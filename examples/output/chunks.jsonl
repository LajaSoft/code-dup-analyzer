{"chunk_id":"86660ecbc7060f743aa8121320658bab","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":57,"end_line":63,"start_byte":2254,"end_byte":2426,"token_estimate":40,"fingerprint":"d2632feaa12e0c94f3d5a10cb87f10c1","raw_text":"function showToast(msg) {\n  toast.innerText = msg;\n  toast.className = 'show';\n  setTimeout(() => {\n    toast.className = toast.className.replace('show', '');\n  }, 3000);\n}","normalized_text":"function ID ( ID ) { ID . ID = ID ; ID . ID = ID ; ID (() => { ID . ID = ID . ID . ID ( ID , ID ); }, ID ); }"}
{"chunk_id":"44c171752a0dd2144a8bf6368f53dc2b","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"bfd481204099ef8a53a2ba8ff69a481a","depth":2,"start_line":57,"end_line":63,"start_byte":2278,"end_byte":2426,"token_estimate":35,"fingerprint":"2d7c6aa3ac4db06ff4fbbfc8067b6acd","raw_text":"{\n  toast.innerText = msg;\n  toast.className = 'show';\n  setTimeout(() => {\n    toast.className = toast.className.replace('show', '');\n  }, 3000);\n}","normalized_text":"{ ID . ID = ID ; ID . ID = ID ; ID (() => { ID . ID = ID . ID . ID ( ID , ID ); }, ID ); }"}
{"chunk_id":"84773fec89cece83684a6c7f2536dbfe","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":65,"end_line":72,"start_byte":2428,"end_byte":2643,"token_estimate":48,"fingerprint":"4c6e7a9a2771905fd0a72d957b16af66","raw_text":"function copyToClipboard(text) {\n  const el = document.createElement('textarea');\n  el.value = text;\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n}","normalized_text":"function ID ( ID ) { const ID = ID . ID ( ID ); ID . ID = ID ; ID . ID . ID ( ID ); ID . ID (); ID . ID ( ID ); ID . ID . ID ( ID ); }"}
{"chunk_id":"5b8b75f141b40ce573de9e6dacd8dfb2","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"6e291824843a0fb7d09c2afe5ccf6fbf","depth":2,"start_line":65,"end_line":72,"start_byte":2459,"end_byte":2643,"token_estimate":43,"fingerprint":"4dd2e93a24ca2ff9ce1bc2729c8dc99f","raw_text":"{\n  const el = document.createElement('textarea');\n  el.value = text;\n  document.body.appendChild(el);\n  el.select();\n  document.execCommand('copy');\n  document.body.removeChild(el);\n}","normalized_text":"{ const ID = ID . ID ( ID ); ID . ID = ID ; ID . ID . ID ( ID ); ID . ID (); ID . ID ( ID ); ID . ID . ID ( ID ); }"}
{"chunk_id":"6c76d448fc898383e615a84772d4256a","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":75,"end_line":95,"start_byte":2722,"end_byte":3399,"token_estimate":112,"fingerprint":"9ff5ace3fa70a35b1442b06ae670bef1","raw_text":"{\n  const btn = document.createElement('button');\n  btn.className = 'btn';\n  btn.innerText = p;\n  btn.onclick = () => {\n    const currentModuleType = moduleTypeSelect.value;\n    const allowedPoints = moduleAnchorPoints[currentModuleType] || [];\n    if (!allowedPoints.includes(p)) {\n      showToast(`Точка ${p} недоступна для модуля ${currentModuleType}`);\n      return;\n    }\n    if (selectedObject && selectedObject.type === 'anchor') {\n      if (!selectedObject.isOccupied) {\n        addMotor(selectedObject, p, currentModuleType);\n      } else {\n        changeConnectionPoint(selectedObject, p);\n      }\n    }\n  };\n  containerAdd.appendChild(btn);\n}","normalized_text":"{ const ID = ID . ID ( ID ); ID . ID = ID ; ID . ID = ID ; ID . ID = () => { const ID = ID . ID ; const ID = ID [ ID ] || []; if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; } if ( ID && ID . ID === ID ) { if (! ID . ID ) { ID ( ID , ID , ID ); } else { ID ( ID , ID ); } } }; ID . ID ( ID ); }"}
{"chunk_id":"495cea6276e401ac77d517143aab6e5d","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"0985bed6111fc36fdb69751bc32c719e","depth":9,"start_line":79,"end_line":93,"start_byte":2840,"end_byte":3363,"token_estimate":77,"fingerprint":"ae79f99c7e834b24f0ec338051c6beb4","raw_text":"{\n    const currentModuleType = moduleTypeSelect.value;\n    const allowedPoints = moduleAnchorPoints[currentModuleType] || [];\n    if (!allowedPoints.includes(p)) {\n      showToast(`Точка ${p} недоступна для модуля ${currentModuleType}`);\n      return;\n    }\n    if (selectedObject && selectedObject.type === 'anchor') {\n      if (!selectedObject.isOccupied) {\n        addMotor(selectedObject, p, currentModuleType);\n      } else {\n        changeConnectionPoint(selectedObject, p);\n      }\n    }\n  }","normalized_text":"{ const ID = ID . ID ; const ID = ID [ ID ] || []; if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; } if ( ID && ID . ID === ID ) { if (! ID . ID ) { ID ( ID , ID , ID ); } else { ID ( ID , ID ); } } }"}
{"chunk_id":"8c484ff68522e04c687fdab8113f3426","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"4d179971d65e45f1ecb3e66a0044c58b","depth":10,"start_line":82,"end_line":85,"start_byte":2971,"end_byte":3122,"token_estimate":22,"fingerprint":"18d4039e21a2c8e8489b5a65a7772e99","raw_text":"if (!allowedPoints.includes(p)) {\n      showToast(`Точка ${p} недоступна для модуля ${currentModuleType}`);\n      return;\n    }","normalized_text":"if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; }"}
{"chunk_id":"869fc75c32579c632e3784abbf5bca9d","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"4d179971d65e45f1ecb3e66a0044c58b","depth":10,"start_line":86,"end_line":92,"start_byte":3127,"end_byte":3359,"token_estimate":37,"fingerprint":"543ac0238a00c2ef619df9201011c3da","raw_text":"if (selectedObject && selectedObject.type === 'anchor') {\n      if (!selectedObject.isOccupied) {\n        addMotor(selectedObject, p, currentModuleType);\n      } else {\n        changeConnectionPoint(selectedObject, p);\n      }\n    }","normalized_text":"if ( ID && ID . ID === ID ) { if (! ID . ID ) { ID ( ID , ID , ID ); } else { ID ( ID , ID ); } }"}
{"chunk_id":"dc918af6390b8898f2406257eb7f65df","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"f1013f1a1c94a381d39850356e618549","depth":11,"start_line":86,"end_line":92,"start_byte":3183,"end_byte":3359,"token_estimate":27,"fingerprint":"0bf59d95e67bdd8ba442097a8b18dfe8","raw_text":"{\n      if (!selectedObject.isOccupied) {\n        addMotor(selectedObject, p, currentModuleType);\n      } else {\n        changeConnectionPoint(selectedObject, p);\n      }\n    }","normalized_text":"{ if (! ID . ID ) { ID ( ID , ID , ID ); } else { ID ( ID , ID ); } }"}
{"chunk_id":"d3a94be5740b856913d6669732398d9a","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"6950cd372744549999536ff0a2b1e291","depth":12,"start_line":87,"end_line":91,"start_byte":3191,"end_byte":3353,"token_estimate":25,"fingerprint":"bd74ed9a7ee972a78276ffbba4f925d3","raw_text":"if (!selectedObject.isOccupied) {\n        addMotor(selectedObject, p, currentModuleType);\n      } else {\n        changeConnectionPoint(selectedObject, p);\n      }","normalized_text":"if (! ID . ID ) { ID ( ID , ID , ID ); } else { ID ( ID , ID ); }"}
{"chunk_id":"714583ec0689d496d4aaef913e246190","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":102,"end_line":118,"start_byte":3546,"end_byte":4088,"token_estimate":106,"fingerprint":"f3e4cc899c4055ee38e24272e511c078","raw_text":"{\n  if (!selectedObject) return;\n  const val = parseInt(e.target.value, 10);\n\n  if (selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    const ok = m.setAngle(val, isColliding);\n    if (!ok) showToast('Коллизия! Вращение заблокировано.');\n  } else if (selectedObject.type === 'joint_disc') {\n    const anchor = selectedObject.anchor;\n    if (anchor.jointRotor) {\n      anchor.jointAngle = val;\n      anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(val);\n    }\n  }\n  updateVisuals();\n}","normalized_text":"{ if (! ID ) return; const ID = ID ( ID . ID . ID , ID ); if ( ID . ID === ID ) { const ID = ID . ID ; const ID = ID . ID ( ID , ID ); if (! ID ) ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID . ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } } ID (); }"}
{"chunk_id":"e2b2daf6364bc4840cc1de055e08c0d4","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"87dc84864cb4baaffe50c1c7df3fb6e8","depth":6,"start_line":106,"end_line":116,"start_byte":3626,"end_byte":4067,"token_estimate":84,"fingerprint":"bb76fb63687e1b5c2705f395be1f8db5","raw_text":"if (selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    const ok = m.setAngle(val, isColliding);\n    if (!ok) showToast('Коллизия! Вращение заблокировано.');\n  } else if (selectedObject.type === 'joint_disc') {\n    const anchor = selectedObject.anchor;\n    if (anchor.jointRotor) {\n      anchor.jointAngle = val;\n      anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(val);\n    }\n  }","normalized_text":"if ( ID . ID === ID ) { const ID = ID . ID ; const ID = ID . ID ( ID , ID ); if (! ID ) ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID . ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } }"}
{"chunk_id":"e909b57ad7789a3c9d6b263af6c1a3bc","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"62d14ec7f51f65e62a1bfd89fb9c73cc","depth":7,"start_line":106,"end_line":110,"start_byte":3662,"end_byte":3838,"token_estimate":28,"fingerprint":"4725172f2f75cd7aa0cce3c045c4c12c","raw_text":"{\n    const m = selectedObject.motor;\n    const ok = m.setAngle(val, isColliding);\n    if (!ok) showToast('Коллизия! Вращение заблокировано.');\n  }","normalized_text":"{ const ID = ID . ID ; const ID = ID . ID ( ID , ID ); if (! ID ) ID ( ID ); }"}
{"chunk_id":"97520d0a96de02f302c0183fe4567512","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"62d14ec7f51f65e62a1bfd89fb9c73cc","depth":8,"start_line":110,"end_line":116,"start_byte":3844,"end_byte":4067,"token_estimate":47,"fingerprint":"142da8bf3deba76708662f9bb9ef4795","raw_text":"if (selectedObject.type === 'joint_disc') {\n    const anchor = selectedObject.anchor;\n    if (anchor.jointRotor) {\n      anchor.jointAngle = val;\n      anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(val);\n    }\n  }","normalized_text":"if ( ID . ID === ID ) { const ID = ID . ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } }"}
{"chunk_id":"982e43663d2af3cae30f421bdb168a79","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"b020e5bbb5a24b4dacc18457755bd945","depth":9,"start_line":110,"end_line":116,"start_byte":3886,"end_byte":4067,"token_estimate":39,"fingerprint":"ddf1b4a625cc308dcdae094545ce1097","raw_text":"{\n    const anchor = selectedObject.anchor;\n    if (anchor.jointRotor) {\n      anchor.jointAngle = val;\n      anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(val);\n    }\n  }","normalized_text":"{ const ID = ID . ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } }"}
{"chunk_id":"a1509be1142a83101bcbf6d624693a6a","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"ba91e947c42d8708a9860ec7830191bf","depth":10,"start_line":112,"end_line":115,"start_byte":3934,"end_byte":4063,"token_estimate":30,"fingerprint":"9c9c81f62e918af80246fd4cb2f7a75d","raw_text":"if (anchor.jointRotor) {\n      anchor.jointAngle = val;\n      anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(val);\n    }","normalized_text":"if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); }"}
{"chunk_id":"e4396b309267f1877cc65122af216cca","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":120,"end_line":128,"start_byte":4131,"end_byte":4338,"token_estimate":43,"fingerprint":"f069b95dc664c35c5787c265709027e5","raw_text":"{\n  if (selectedObject && selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    m.dispose();\n    motors.splice(motors.indexOf(m), 1);\n    selectedObject = null;\n    updateVisuals();\n  }\n}","normalized_text":"{ if ( ID && ID . ID === ID ) { const ID = ID . ID ; ID . ID (); ID . ID ( ID . ID ( ID ), ID ); ID = ID ; ID (); } }"}
{"chunk_id":"8ddeba85d228a2d40c9edd7792d09345","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"b29eea184c696550202452579b9784a1","depth":6,"start_line":121,"end_line":127,"start_byte":4135,"end_byte":4336,"token_estimate":41,"fingerprint":"2fdbda986a42eb9977a2db72821df3b0","raw_text":"if (selectedObject && selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    m.dispose();\n    motors.splice(motors.indexOf(m), 1);\n    selectedObject = null;\n    updateVisuals();\n  }","normalized_text":"if ( ID && ID . ID === ID ) { const ID = ID . ID ; ID . ID (); ID . ID ( ID . ID ( ID ), ID ); ID = ID ; ID (); }"}
{"chunk_id":"9e7cebea91673e23b1b1b409ac60466b","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"438e75cb537a96d34f72bd30048cb081","depth":7,"start_line":121,"end_line":127,"start_byte":4189,"end_byte":4336,"token_estimate":31,"fingerprint":"9a629cd8789e9322bac7aeb38119c0a0","raw_text":"{\n    const m = selectedObject.motor;\n    m.dispose();\n    motors.splice(motors.indexOf(m), 1);\n    selectedObject = null;\n    updateVisuals();\n  }","normalized_text":"{ const ID = ID . ID ; ID . ID (); ID . ID ( ID . ID ( ID ), ID ); ID = ID ; ID (); }"}
{"chunk_id":"3e29e1ab025917fd0e58a036a514cdd4","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":130,"end_line":149,"start_byte":4387,"end_byte":4955,"token_estimate":112,"fingerprint":"d93dd726d7159fb0d83776093ce6adad","raw_text":"{\n  try {\n    const roots = motors.filter(m => !m.parentAnchor);\n    if (roots.length === 0) {\n      showToast('Сцена пуста.');\n      return;\n    }\n    const fullData = [];\n    roots.forEach(root => {\n      const jsonStr = serializeSubtree(root);\n      const subtreeData = JSON.parse(jsonStr);\n      if (subtreeData.length > 0) subtreeData[0].isRoot = true;\n      fullData.push(...subtreeData);\n    });\n    copyToClipboard(JSON.stringify(fullData, null, 2));\n    showToast('JSON сцены скопирован!');\n  } catch (e) {\n    console.error(e);\n  }\n}","normalized_text":"{ try { const ID = ID . ID ( ID => ! ID . ID ); if ( ID . ID === ID ) { ID ( ID ); return; } const ID = []; ID . ID ( ID => { const ID = ID ( ID ); const ID = ID . ID ( ID ); if ( ID . ID > ID ) ID [ ID ]. ID = ID ; ID . ID (... ID ); }); ID ( ID . ID ( ID , ID , ID )); ID ( ID ); } catch ( ID ) { ID . ID ( ID ); } }"}
{"chunk_id":"9b571358335fc94d733849ee8e3d9ba0","repo":"input","path":"main.js","language":"javascript","node_type":"try_statement","parent_id":"f56f6db1bc043428b5170ef27e0a1347","depth":6,"start_line":131,"end_line":148,"start_byte":4391,"end_byte":4953,"token_estimate":110,"fingerprint":"4a3d43fbb3786a6bc8a34941ce64658d","raw_text":"try {\n    const roots = motors.filter(m => !m.parentAnchor);\n    if (roots.length === 0) {\n      showToast('Сцена пуста.');\n      return;\n    }\n    const fullData = [];\n    roots.forEach(root => {\n      const jsonStr = serializeSubtree(root);\n      const subtreeData = JSON.parse(jsonStr);\n      if (subtreeData.length > 0) subtreeData[0].isRoot = true;\n      fullData.push(...subtreeData);\n    });\n    copyToClipboard(JSON.stringify(fullData, null, 2));\n    showToast('JSON сцены скопирован!');\n  } catch (e) {\n    console.error(e);\n  }","normalized_text":"try { const ID = ID . ID ( ID => ! ID . ID ); if ( ID . ID === ID ) { ID ( ID ); return; } const ID = []; ID . ID ( ID => { const ID = ID ( ID ); const ID = ID . ID ( ID ); if ( ID . ID > ID ) ID [ ID ]. ID = ID ; ID . ID (... ID ); }); ID ( ID . ID ( ID , ID , ID )); ID ( ID ); } catch ( ID ) { ID . ID ( ID ); }"}
{"chunk_id":"673924c0bd3ebef6c84bffb6357852a5","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"a62a4ba89e579776f8e9b80aa7c176d7","depth":7,"start_line":131,"end_line":146,"start_byte":4395,"end_byte":4915,"token_estimate":97,"fingerprint":"ae93c04482caff761d519535d7a4cc74","raw_text":"{\n    const roots = motors.filter(m => !m.parentAnchor);\n    if (roots.length === 0) {\n      showToast('Сцена пуста.');\n      return;\n    }\n    const fullData = [];\n    roots.forEach(root => {\n      const jsonStr = serializeSubtree(root);\n      const subtreeData = JSON.parse(jsonStr);\n      if (subtreeData.length > 0) subtreeData[0].isRoot = true;\n      fullData.push(...subtreeData);\n    });\n    copyToClipboard(JSON.stringify(fullData, null, 2));\n    showToast('JSON сцены скопирован!');\n  }","normalized_text":"{ const ID = ID . ID ( ID => ! ID . ID ); if ( ID . ID === ID ) { ID ( ID ); return; } const ID = []; ID . ID ( ID => { const ID = ID ( ID ); const ID = ID . ID ( ID ); if ( ID . ID > ID ) ID [ ID ]. ID = ID ; ID . ID (... ID ); }); ID ( ID . ID ( ID , ID , ID )); ID ( ID ); }"}
{"chunk_id":"d7bcb230dc9ef814b15382c1bbc32451","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"08b2090c91c4fe89ecd2938261b5bf9a","depth":12,"start_line":138,"end_line":143,"start_byte":4596,"end_byte":4797,"token_estimate":40,"fingerprint":"78a09cb4aabf45c5fc958c37d6ff5677","raw_text":"{\n      const jsonStr = serializeSubtree(root);\n      const subtreeData = JSON.parse(jsonStr);\n      if (subtreeData.length > 0) subtreeData[0].isRoot = true;\n      fullData.push(...subtreeData);\n    }","normalized_text":"{ const ID = ID ( ID ); const ID = ID . ID ( ID ); if ( ID . ID > ID ) ID [ ID ]. ID = ID ; ID . ID (... ID ); }"}
{"chunk_id":"3847c98e2b41316e62060b61f3da2dd5","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":157,"end_line":166,"start_byte":5198,"end_byte":5582,"token_estimate":47,"fingerprint":"e3fe26dea1748c095a994aae2460992a","raw_text":"{\n  if (selectedObject && selectedObject.type === 'anchor') {\n    modalMode = 'insert';\n    insertTargetAnchor = selectedObject;\n    modalTitle.innerText = `Вставить в точку ${selectedObject.id} (соединитель 'A')`;\n    await tryLoadFromClipboard();\n  } else {\n    showToast('Сначала выберите точку крепления (сферу).');\n  }\n}","normalized_text":"{ if ( ID && ID . ID === ID ) { ID = ID ; ID = ID ; ID . ID = `Вставить в точку ${ ID . ID } (соединитель ID )`; await ID (); } else { ID ( ID ); } }"}
{"chunk_id":"55242d47ae430f485529b54fc3863318","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"ecade039b90df2f6bf99934e6cfda489","depth":6,"start_line":158,"end_line":165,"start_byte":5202,"end_byte":5580,"token_estimate":45,"fingerprint":"1814afe9ba912940397e2c69a380c888","raw_text":"if (selectedObject && selectedObject.type === 'anchor') {\n    modalMode = 'insert';\n    insertTargetAnchor = selectedObject;\n    modalTitle.innerText = `Вставить в точку ${selectedObject.id} (соединитель 'A')`;\n    await tryLoadFromClipboard();\n  } else {\n    showToast('Сначала выберите точку крепления (сферу).');\n  }","normalized_text":"if ( ID && ID . ID === ID ) { ID = ID ; ID = ID ; ID . ID = `Вставить в точку ${ ID . ID } (соединитель ID )`; await ID (); } else { ID ( ID ); }"}
{"chunk_id":"a9c2ceaa66c2659741c40b910a565f2e","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"46cd682e95576bf539cbdd54a646bb36","depth":7,"start_line":158,"end_line":163,"start_byte":5258,"end_byte":5475,"token_estimate":28,"fingerprint":"9cd445d5bad630eebbdf1be6235cf497","raw_text":"{\n    modalMode = 'insert';\n    insertTargetAnchor = selectedObject;\n    modalTitle.innerText = `Вставить в точку ${selectedObject.id} (соединитель 'A')`;\n    await tryLoadFromClipboard();\n  }","normalized_text":"{ ID = ID ; ID = ID ; ID . ID = `Вставить в точку ${ ID . ID } (соединитель ID )`; await ID (); }"}
{"chunk_id":"34260bca9fe86cb6a958afe24a3824b7","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":168,"end_line":182,"start_byte":5630,"end_byte":6125,"token_estimate":61,"fingerprint":"c83ba14632252dbb9dd526e1266238e8","raw_text":"{\n  if (selectedObject && selectedObject.type === 'joint_disc') {\n    const parentAnchor = selectedObject.anchor;\n    const childMotor = parentAnchor.connectedChild;\n    if (!childMotor) {\n      showToast('Нет присоединенного чилда.');\n      return;\n    }\n    const jsonStr = serializeSubtree(childMotor);\n    copyToClipboard(jsonStr);\n    showToast('Ветка чилда скопирована!');\n  } else {\n    showToast('Выберите диск стыка.');\n  }\n}","normalized_text":"{ if ( ID && ID . ID === ID ) { const ID = ID . ID ; const ID = ID . ID ; if (! ID ) { ID ( ID ); return; } const ID = ID ( ID ); ID ( ID ); ID ( ID ); } else { ID ( ID ); } }"}
{"chunk_id":"b6b49ff3369f25333b9e1bc03d7fce1a","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"c7bed37ca5f947a5f41f41490e4ef637","depth":6,"start_line":169,"end_line":181,"start_byte":5634,"end_byte":6123,"token_estimate":59,"fingerprint":"d1813475b140309f84b55be315fb462d","raw_text":"if (selectedObject && selectedObject.type === 'joint_disc') {\n    const parentAnchor = selectedObject.anchor;\n    const childMotor = parentAnchor.connectedChild;\n    if (!childMotor) {\n      showToast('Нет присоединенного чилда.');\n      return;\n    }\n    const jsonStr = serializeSubtree(childMotor);\n    copyToClipboard(jsonStr);\n    showToast('Ветка чилда скопирована!');\n  } else {\n    showToast('Выберите диск стыка.');\n  }","normalized_text":"if ( ID && ID . ID === ID ) { const ID = ID . ID ; const ID = ID . ID ; if (! ID ) { ID ( ID ); return; } const ID = ID ( ID ); ID ( ID ); ID ( ID ); } else { ID ( ID ); }"}
{"chunk_id":"0a78c2d7a9bef1df994c4390c3a60d61","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"3769b611617542491c2c68f822e65fb9","depth":7,"start_line":169,"end_line":179,"start_byte":5694,"end_byte":6056,"token_estimate":42,"fingerprint":"42512e3ec1c7d3516759299719c2a383","raw_text":"{\n    const parentAnchor = selectedObject.anchor;\n    const childMotor = parentAnchor.connectedChild;\n    if (!childMotor) {\n      showToast('Нет присоединенного чилда.');\n      return;\n    }\n    const jsonStr = serializeSubtree(childMotor);\n    copyToClipboard(jsonStr);\n    showToast('Ветка чилда скопирована!');\n  }","normalized_text":"{ const ID = ID . ID ; const ID = ID . ID ; if (! ID ) { ID ( ID ); return; } const ID = ID ( ID ); ID ( ID ); ID ( ID ); }"}
{"chunk_id":"e2c40696edc259c3b3a895851e479fd4","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":184,"end_line":201,"start_byte":6171,"end_byte":6739,"token_estimate":77,"fingerprint":"30bd39f8e49d72e641809de3acff60ce","raw_text":"{\n  if (selectedObject && selectedObject.type === 'joint_disc') {\n    const parentMotor = selectedObject.anchor.parentMotor;\n    if (!parentMotor) {\n      showToast('Нет родителя.');\n      return;\n    }\n    let rootMotor = parentMotor;\n    while (rootMotor.parentAnchor) {\n      rootMotor = rootMotor.parentAnchor.parentMotor;\n    }\n    const jsonStr = serializeSubtree(rootMotor);\n    copyToClipboard(jsonStr);\n    showToast('Вся цепь парента скопирована!');\n  } else {\n    showToast('Выберите диск стыка.');\n  }\n}","normalized_text":"{ if ( ID && ID . ID === ID ) { const ID = ID . ID . ID ; if (! ID ) { ID ( ID ); return; } let ID = ID ; while ( ID . ID ) { ID = ID . ID . ID ; } const ID = ID ( ID ); ID ( ID ); ID ( ID ); } else { ID ( ID ); } }"}
{"chunk_id":"ae471886daba153893c102fdb622a5cb","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"25394f31ecccc66c20cafb3dd901e9ab","depth":6,"start_line":185,"end_line":200,"start_byte":6175,"end_byte":6737,"token_estimate":75,"fingerprint":"e6714b60486799d54ba86fb879f6a8a9","raw_text":"if (selectedObject && selectedObject.type === 'joint_disc') {\n    const parentMotor = selectedObject.anchor.parentMotor;\n    if (!parentMotor) {\n      showToast('Нет родителя.');\n      return;\n    }\n    let rootMotor = parentMotor;\n    while (rootMotor.parentAnchor) {\n      rootMotor = rootMotor.parentAnchor.parentMotor;\n    }\n    const jsonStr = serializeSubtree(rootMotor);\n    copyToClipboard(jsonStr);\n    showToast('Вся цепь парента скопирована!');\n  } else {\n    showToast('Выберите диск стыка.');\n  }","normalized_text":"if ( ID && ID . ID === ID ) { const ID = ID . ID . ID ; if (! ID ) { ID ( ID ); return; } let ID = ID ; while ( ID . ID ) { ID = ID . ID . ID ; } const ID = ID ( ID ); ID ( ID ); ID ( ID ); } else { ID ( ID ); }"}
{"chunk_id":"16498ff50180a6ac6acec22ed860d7a9","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"e1f8c55d8b6178ad251e7e5a03adc29c","depth":7,"start_line":185,"end_line":198,"start_byte":6235,"end_byte":6670,"token_estimate":58,"fingerprint":"65c4034d8ac96110784b19ccd8c49e9a","raw_text":"{\n    const parentMotor = selectedObject.anchor.parentMotor;\n    if (!parentMotor) {\n      showToast('Нет родителя.');\n      return;\n    }\n    let rootMotor = parentMotor;\n    while (rootMotor.parentAnchor) {\n      rootMotor = rootMotor.parentAnchor.parentMotor;\n    }\n    const jsonStr = serializeSubtree(rootMotor);\n    copyToClipboard(jsonStr);\n    showToast('Вся цепь парента скопирована!');\n  }","normalized_text":"{ const ID = ID . ID . ID ; if (! ID ) { ID ( ID ); return; } let ID = ID ; while ( ID . ID ) { ID = ID . ID . ID ; } const ID = ID ( ID ); ID ( ID ); ID ( ID ); }"}
{"chunk_id":"a99ab53c21b24acba29994d27c31f27f","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":203,"end_line":218,"start_byte":6743,"end_byte":7169,"token_estimate":82,"fingerprint":"fe40317de4fff5b7926ae1c8d763352a","raw_text":"async function tryLoadFromClipboard() {\n  try {\n    if (navigator.clipboard && navigator.clipboard.readText) {\n      const text = await navigator.clipboard.readText();\n      if (text && text.trim().startsWith('[')) {\n        handleModalConfirm(text);\n        return;\n      }\n    }\n    throw new Error('Fallback');\n  } catch (err) {\n    txtImport.value = '';\n    modalImport.style.display = 'flex';\n    txtImport.focus();\n  }\n}","normalized_text":"async function ID () { try { if ( ID . ID && ID . ID . ID ) { const ID = await ID . ID . ID (); if ( ID && ID . ID (). ID ( ID )) { ID ( ID ); return; } } throw new ID ( ID ); } catch ( ID ) { ID . ID = ID ; ID . ID . ID = ID ; ID . ID (); } }"}
{"chunk_id":"bce07a6376928adceb6509fb4adb54a6","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"a4391590d1515aea55fc054e96c67b2d","depth":2,"start_line":203,"end_line":218,"start_byte":6781,"end_byte":7169,"token_estimate":78,"fingerprint":"1ce84e1921c611e33ae953be0fa9d402","raw_text":"{\n  try {\n    if (navigator.clipboard && navigator.clipboard.readText) {\n      const text = await navigator.clipboard.readText();\n      if (text && text.trim().startsWith('[')) {\n        handleModalConfirm(text);\n        return;\n      }\n    }\n    throw new Error('Fallback');\n  } catch (err) {\n    txtImport.value = '';\n    modalImport.style.display = 'flex';\n    txtImport.focus();\n  }\n}","normalized_text":"{ try { if ( ID . ID && ID . ID . ID ) { const ID = await ID . ID . ID (); if ( ID && ID . ID (). ID ( ID )) { ID ( ID ); return; } } throw new ID ( ID ); } catch ( ID ) { ID . ID = ID ; ID . ID . ID = ID ; ID . ID (); } }"}
{"chunk_id":"cb88771a98c9877911191c5df89d0488","repo":"input","path":"main.js","language":"javascript","node_type":"try_statement","parent_id":"977dd0efd726dd565d2f7882cc928a80","depth":3,"start_line":204,"end_line":217,"start_byte":6785,"end_byte":7167,"token_estimate":76,"fingerprint":"0503bb553210c8af3645894e7f850368","raw_text":"try {\n    if (navigator.clipboard && navigator.clipboard.readText) {\n      const text = await navigator.clipboard.readText();\n      if (text && text.trim().startsWith('[')) {\n        handleModalConfirm(text);\n        return;\n      }\n    }\n    throw new Error('Fallback');\n  } catch (err) {\n    txtImport.value = '';\n    modalImport.style.display = 'flex';\n    txtImport.focus();\n  }","normalized_text":"try { if ( ID . ID && ID . ID . ID ) { const ID = await ID . ID . ID (); if ( ID && ID . ID (). ID ( ID )) { ID ( ID ); return; } } throw new ID ( ID ); } catch ( ID ) { ID . ID = ID ; ID . ID . ID = ID ; ID . ID (); }"}
{"chunk_id":"4e4cbccb56cb8f417a25d47adba15758","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"d025889cb21e37040180a047126b864e","depth":4,"start_line":204,"end_line":213,"start_byte":6789,"end_byte":7060,"token_estimate":51,"fingerprint":"50d32f3009b4a1148829ff7aae7fc410","raw_text":"{\n    if (navigator.clipboard && navigator.clipboard.readText) {\n      const text = await navigator.clipboard.readText();\n      if (text && text.trim().startsWith('[')) {\n        handleModalConfirm(text);\n        return;\n      }\n    }\n    throw new Error('Fallback');\n  }","normalized_text":"{ if ( ID . ID && ID . ID . ID ) { const ID = await ID . ID . ID (); if ( ID && ID . ID (). ID ( ID )) { ID ( ID ); return; } } throw new ID ( ID ); }"}
{"chunk_id":"e7706627a37ebbabe8dd0291124bf07e","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"aef83c33ac3328b020039e603ee20d74","depth":5,"start_line":205,"end_line":211,"start_byte":6795,"end_byte":7023,"token_estimate":43,"fingerprint":"2e4dc0c64b01951d4756a09baf2b4bf2","raw_text":"if (navigator.clipboard && navigator.clipboard.readText) {\n      const text = await navigator.clipboard.readText();\n      if (text && text.trim().startsWith('[')) {\n        handleModalConfirm(text);\n        return;\n      }\n    }","normalized_text":"if ( ID . ID && ID . ID . ID ) { const ID = await ID . ID . ID (); if ( ID && ID . ID (). ID ( ID )) { ID ( ID ); return; } }"}
{"chunk_id":"f228d86e812872355163fcaa8036dd10","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"eb03f1a61ba32df791d1d2a263226957","depth":6,"start_line":205,"end_line":211,"start_byte":6852,"end_byte":7023,"token_estimate":31,"fingerprint":"c1554e5044ed2fdcb04759d722bbeb32","raw_text":"{\n      const text = await navigator.clipboard.readText();\n      if (text && text.trim().startsWith('[')) {\n        handleModalConfirm(text);\n        return;\n      }\n    }","normalized_text":"{ const ID = await ID . ID . ID (); if ( ID && ID . ID (). ID ( ID )) { ID ( ID ); return; } }"}
{"chunk_id":"9633041821560d5498d137fd00b12ed4","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":224,"end_line":230,"start_byte":7313,"end_byte":7436,"token_estimate":27,"fingerprint":"c955f3de4c61e94ef9181a7268853d8f","raw_text":"{\n  const text = txtImport.value;\n  if (text) {\n    handleModalConfirm(text);\n    modalImport.style.display = 'none';\n  }\n}","normalized_text":"{ const ID = ID . ID ; if ( ID ) { ID ( ID ); ID . ID . ID = ID ; } }"}
{"chunk_id":"37712cfef58d2cecea8b11d766d10732","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":232,"end_line":242,"start_byte":7440,"end_byte":7771,"token_estimate":51,"fingerprint":"aeddb0aae6f6be69aec232ac546ec1f3","raw_text":"function handleModalConfirm(jsonStr) {\n  if (modalMode === 'scene') {\n    loadScene(jsonStr);\n  } else if (modalMode === 'insert' && insertTargetAnchor) {\n    if (insertTargetAnchor.isOccupied) {\n      showToast(`Ошибка: Точка занята.`);\n      return;\n    }\n    loadSubtree(jsonStr, insertTargetAnchor, 'A');\n  }\n}","normalized_text":"function ID ( ID ) { if ( ID === ID ) { ID ( ID ); } else if ( ID === ID && ID ) { if ( ID . ID ) { ID (`Ошибка: Точка занята.`); return; } ID ( ID , ID , ID ); } }"}
{"chunk_id":"5e566c071dc7610470a94ed17e4ec213","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"9d34cefbdd797370014c604e7b3bcbac","depth":2,"start_line":232,"end_line":242,"start_byte":7477,"end_byte":7771,"token_estimate":46,"fingerprint":"cb65e86aab8da61faf5acb57e13ed51d","raw_text":"{\n  if (modalMode === 'scene') {\n    loadScene(jsonStr);\n  } else if (modalMode === 'insert' && insertTargetAnchor) {\n    if (insertTargetAnchor.isOccupied) {\n      showToast(`Ошибка: Точка занята.`);\n      return;\n    }\n    loadSubtree(jsonStr, insertTargetAnchor, 'A');\n  }\n}","normalized_text":"{ if ( ID === ID ) { ID ( ID ); } else if ( ID === ID && ID ) { if ( ID . ID ) { ID (`Ошибка: Точка занята.`); return; } ID ( ID , ID , ID ); } }"}
{"chunk_id":"b01f53134fc57d1c67914ed2dc652e39","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"66df8e28f868858a8ff8a77d5809dbfd","depth":3,"start_line":233,"end_line":241,"start_byte":7481,"end_byte":7769,"token_estimate":44,"fingerprint":"83920cd1dbedfdc19c3afea32fb46ab1","raw_text":"if (modalMode === 'scene') {\n    loadScene(jsonStr);\n  } else if (modalMode === 'insert' && insertTargetAnchor) {\n    if (insertTargetAnchor.isOccupied) {\n      showToast(`Ошибка: Точка занята.`);\n      return;\n    }\n    loadSubtree(jsonStr, insertTargetAnchor, 'A');\n  }","normalized_text":"if ( ID === ID ) { ID ( ID ); } else if ( ID === ID && ID ) { if ( ID . ID ) { ID (`Ошибка: Точка занята.`); return; } ID ( ID , ID , ID ); }"}
{"chunk_id":"530a133ab4e39cca2ec39e4fc31074ac","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"cd33828d8ccbe75b996bb7f61053dff7","depth":5,"start_line":235,"end_line":241,"start_byte":7543,"end_byte":7769,"token_estimate":31,"fingerprint":"0a40c34b8f41e4f01d987c7fd40e8d00","raw_text":"if (modalMode === 'insert' && insertTargetAnchor) {\n    if (insertTargetAnchor.isOccupied) {\n      showToast(`Ошибка: Точка занята.`);\n      return;\n    }\n    loadSubtree(jsonStr, insertTargetAnchor, 'A');\n  }","normalized_text":"if ( ID === ID && ID ) { if ( ID . ID ) { ID (`Ошибка: Точка занята.`); return; } ID ( ID , ID , ID ); }"}
{"chunk_id":"7d7614cfc1e7cb4b9f2baa6a6636bfc3","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"3a946bebd3523f0e74e687fbfaba2600","depth":6,"start_line":235,"end_line":241,"start_byte":7593,"end_byte":7769,"token_estimate":23,"fingerprint":"773ee119c68d173392dd883e7352eaa1","raw_text":"{\n    if (insertTargetAnchor.isOccupied) {\n      showToast(`Ошибка: Точка занята.`);\n      return;\n    }\n    loadSubtree(jsonStr, insertTargetAnchor, 'A');\n  }","normalized_text":"{ if ( ID . ID ) { ID (`Ошибка: Точка занята.`); return; } ID ( ID , ID , ID ); }"}
{"chunk_id":"a57bebf29d0d7d84a26c3bcb5b2cc51d","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":244,"end_line":291,"start_byte":7773,"end_byte":9613,"token_estimate":283,"fingerprint":"e344aa85bf00b337e54d30677dddbb67","raw_text":"function changeConnectionPoint(currentAnchor, newPointId) {\n  const motor = currentAnchor.parentMotor;\n  const targetAnchorGroup = motor.anchors.find(g => g.userData.id === newPointId);\n  if (!targetAnchorGroup) {\n    showToast(`Точка ${newPointId} недоступна для модуля.`);\n    return;\n  }\n  const targetAnchor = targetAnchorGroup.userData;\n\n  if (targetAnchor.isOccupied) {\n    showToast(`Точка ${newPointId} уже занята!`);\n    return;\n  }\n\n  if (currentAnchor.connectedChild) {\n    const child = currentAnchor.connectedChild;\n    const childAnchorGroup = child.anchors.find(a => a.userData.linkedAnchor === currentAnchor);\n    if (!childAnchorGroup) return;\n    const childPointId = childAnchorGroup.userData.id;\n    const currentJointAngle = currentAnchor.jointAngle;\n\n    child.detachFromParent();\n    child.attachTo(targetAnchor, childPointId);\n\n    if (targetAnchor.jointRotor) {\n      targetAnchor.jointAngle = currentJointAngle;\n      targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Перемещено на точку ${newPointId}`);\n    selectedObject = targetAnchor;\n    updateVisuals();\n  } else if (currentAnchor.linkedAnchor) {\n    const parentAnchor = currentAnchor.linkedAnchor;\n    const currentJointAngle = parentAnchor.jointAngle;\n\n    motor.detachFromParent();\n    motor.attachTo(parentAnchor, newPointId);\n\n    if (parentAnchor.jointRotor) {\n      parentAnchor.jointAngle = currentJointAngle;\n      parentAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Точка крепления изменена на ${newPointId}`);\n    const newSelfAnchor = motor.anchors.find(g => g.userData.id === newPointId).userData;\n    selectedObject = newSelfAnchor;\n    updateVisuals();\n  }\n}","normalized_text":"function ID ( ID , ID ) { const ID = ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID ); if (! ID ) { ID (`Точка ${ ID } недоступна для модуля.`); return; } const ID = ID . ID ; if ( ID . ID ) { ID (`Точка ${ ID } уже занята!`); return; } if ( ID . ID ) { const ID = ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID ); if (! ID ) return; const ID = ID . ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Перемещено на точку ${ ID }`); ID = ID ; ID (); } else if ( ID . ID ) { const ID = ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Точка крепления изменена на ${ ID }`); const ID = ID . ID . ID ( ID => ID . ID . ID === ID ). ID ; ID = ID ; ID (); } }"}
{"chunk_id":"fc875c4100ee8065c03a956e2d1f05fb","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"c61b86eeaad7027a9427bea58ba5112a","depth":2,"start_line":244,"end_line":291,"start_byte":7831,"end_byte":9613,"token_estimate":276,"fingerprint":"6fe178cb50de2740c6f4143c86590ee9","raw_text":"{\n  const motor = currentAnchor.parentMotor;\n  const targetAnchorGroup = motor.anchors.find(g => g.userData.id === newPointId);\n  if (!targetAnchorGroup) {\n    showToast(`Точка ${newPointId} недоступна для модуля.`);\n    return;\n  }\n  const targetAnchor = targetAnchorGroup.userData;\n\n  if (targetAnchor.isOccupied) {\n    showToast(`Точка ${newPointId} уже занята!`);\n    return;\n  }\n\n  if (currentAnchor.connectedChild) {\n    const child = currentAnchor.connectedChild;\n    const childAnchorGroup = child.anchors.find(a => a.userData.linkedAnchor === currentAnchor);\n    if (!childAnchorGroup) return;\n    const childPointId = childAnchorGroup.userData.id;\n    const currentJointAngle = currentAnchor.jointAngle;\n\n    child.detachFromParent();\n    child.attachTo(targetAnchor, childPointId);\n\n    if (targetAnchor.jointRotor) {\n      targetAnchor.jointAngle = currentJointAngle;\n      targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Перемещено на точку ${newPointId}`);\n    selectedObject = targetAnchor;\n    updateVisuals();\n  } else if (currentAnchor.linkedAnchor) {\n    const parentAnchor = currentAnchor.linkedAnchor;\n    const currentJointAngle = parentAnchor.jointAngle;\n\n    motor.detachFromParent();\n    motor.attachTo(parentAnchor, newPointId);\n\n    if (parentAnchor.jointRotor) {\n      parentAnchor.jointAngle = currentJointAngle;\n      parentAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Точка крепления изменена на ${newPointId}`);\n    const newSelfAnchor = motor.anchors.find(g => g.userData.id === newPointId).userData;\n    selectedObject = newSelfAnchor;\n    updateVisuals();\n  }\n}","normalized_text":"{ const ID = ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID ); if (! ID ) { ID (`Точка ${ ID } недоступна для модуля.`); return; } const ID = ID . ID ; if ( ID . ID ) { ID (`Точка ${ ID } уже занята!`); return; } if ( ID . ID ) { const ID = ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID ); if (! ID ) return; const ID = ID . ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Перемещено на точку ${ ID }`); ID = ID ; ID (); } else if ( ID . ID ) { const ID = ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Точка крепления изменена на ${ ID }`); const ID = ID . ID . ID ( ID => ID . ID . ID === ID ). ID ; ID = ID ; ID (); } }"}
{"chunk_id":"de8142c523fcdaa8b3755b17e22771e6","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"75398ce3ec0824d402814c08d6678de2","depth":3,"start_line":258,"end_line":290,"start_byte":8256,"end_byte":9611,"token_estimate":210,"fingerprint":"0db9855fb4efa555bfa165e4e054ac4b","raw_text":"if (currentAnchor.connectedChild) {\n    const child = currentAnchor.connectedChild;\n    const childAnchorGroup = child.anchors.find(a => a.userData.linkedAnchor === currentAnchor);\n    if (!childAnchorGroup) return;\n    const childPointId = childAnchorGroup.userData.id;\n    const currentJointAngle = currentAnchor.jointAngle;\n\n    child.detachFromParent();\n    child.attachTo(targetAnchor, childPointId);\n\n    if (targetAnchor.jointRotor) {\n      targetAnchor.jointAngle = currentJointAngle;\n      targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Перемещено на точку ${newPointId}`);\n    selectedObject = targetAnchor;\n    updateVisuals();\n  } else if (currentAnchor.linkedAnchor) {\n    const parentAnchor = currentAnchor.linkedAnchor;\n    const currentJointAngle = parentAnchor.jointAngle;\n\n    motor.detachFromParent();\n    motor.attachTo(parentAnchor, newPointId);\n\n    if (parentAnchor.jointRotor) {\n      parentAnchor.jointAngle = currentJointAngle;\n      parentAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Точка крепления изменена на ${newPointId}`);\n    const newSelfAnchor = motor.anchors.find(g => g.userData.id === newPointId).userData;\n    selectedObject = newSelfAnchor;\n    updateVisuals();\n  }","normalized_text":"if ( ID . ID ) { const ID = ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID ); if (! ID ) return; const ID = ID . ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Перемещено на точку ${ ID }`); ID = ID ; ID (); } else if ( ID . ID ) { const ID = ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Точка крепления изменена на ${ ID }`); const ID = ID . ID . ID ( ID => ID . ID . ID === ID ). ID ; ID = ID ; ID (); }"}
{"chunk_id":"c2e7501b378e94fd847235a7e43793c6","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"db414c57b23874f33b92c0c5832c8e6f","depth":4,"start_line":258,"end_line":275,"start_byte":8290,"end_byte":8971,"token_estimate":104,"fingerprint":"d3859f4268c6a062fa62c2d38adbb673","raw_text":"{\n    const child = currentAnchor.connectedChild;\n    const childAnchorGroup = child.anchors.find(a => a.userData.linkedAnchor === currentAnchor);\n    if (!childAnchorGroup) return;\n    const childPointId = childAnchorGroup.userData.id;\n    const currentJointAngle = currentAnchor.jointAngle;\n\n    child.detachFromParent();\n    child.attachTo(targetAnchor, childPointId);\n\n    if (targetAnchor.jointRotor) {\n      targetAnchor.jointAngle = currentJointAngle;\n      targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Перемещено на точку ${newPointId}`);\n    selectedObject = targetAnchor;\n    updateVisuals();\n  }","normalized_text":"{ const ID = ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID ); if (! ID ) return; const ID = ID . ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Перемещено на точку ${ ID }`); ID = ID ; ID (); }"}
{"chunk_id":"60fb20a2e7de23f1c27cafce108f2291","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"ad06889fa1df082582bf2a5f750c62a1","depth":5,"start_line":268,"end_line":271,"start_byte":8667,"end_byte":8842,"token_estimate":30,"fingerprint":"9c9c81f62e918af80246fd4cb2f7a75d","raw_text":"if (targetAnchor.jointRotor) {\n      targetAnchor.jointAngle = currentJointAngle;\n      targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }","normalized_text":"if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); }"}
{"chunk_id":"f71fcab1abadd837bf23b78e493f3f16","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"4ead89f6586412dd13aebad78fd316e3","depth":6,"start_line":268,"end_line":271,"start_byte":8696,"end_byte":8842,"token_estimate":24,"fingerprint":"413d1ee57e1a8f5dfd012aca46640736","raw_text":"{\n      targetAnchor.jointAngle = currentJointAngle;\n      targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }","normalized_text":"{ ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); }"}
{"chunk_id":"4ea54b48b9dd3717272ece08ea2a8ce9","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"db414c57b23874f33b92c0c5832c8e6f","depth":5,"start_line":275,"end_line":290,"start_byte":8977,"end_byte":9611,"token_estimate":99,"fingerprint":"bdaed9d8ca359c457c1706a508c2b7bf","raw_text":"if (currentAnchor.linkedAnchor) {\n    const parentAnchor = currentAnchor.linkedAnchor;\n    const currentJointAngle = parentAnchor.jointAngle;\n\n    motor.detachFromParent();\n    motor.attachTo(parentAnchor, newPointId);\n\n    if (parentAnchor.jointRotor) {\n      parentAnchor.jointAngle = currentJointAngle;\n      parentAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Точка крепления изменена на ${newPointId}`);\n    const newSelfAnchor = motor.anchors.find(g => g.userData.id === newPointId).userData;\n    selectedObject = newSelfAnchor;\n    updateVisuals();\n  }","normalized_text":"if ( ID . ID ) { const ID = ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Точка крепления изменена на ${ ID }`); const ID = ID . ID . ID ( ID => ID . ID . ID === ID ). ID ; ID = ID ; ID (); }"}
{"chunk_id":"d7a821d5a7e3de166d6bc8eb0de23ba9","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"8dc4d0b1744eb90ead0633197b8a6656","depth":6,"start_line":275,"end_line":290,"start_byte":9009,"end_byte":9611,"token_estimate":93,"fingerprint":"b6de4ccfbe93722b4f3d27d48da5dd7e","raw_text":"{\n    const parentAnchor = currentAnchor.linkedAnchor;\n    const currentJointAngle = parentAnchor.jointAngle;\n\n    motor.detachFromParent();\n    motor.attachTo(parentAnchor, newPointId);\n\n    if (parentAnchor.jointRotor) {\n      parentAnchor.jointAngle = currentJointAngle;\n      parentAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }\n    showToast(`Точка крепления изменена на ${newPointId}`);\n    const newSelfAnchor = motor.anchors.find(g => g.userData.id === newPointId).userData;\n    selectedObject = newSelfAnchor;\n    updateVisuals();\n  }","normalized_text":"{ const ID = ID . ID ; const ID = ID . ID ; ID . ID (); ID . ID ( ID , ID ); if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); } ID (`Точка крепления изменена на ${ ID }`); const ID = ID . ID . ID ( ID => ID . ID . ID === ID ). ID ; ID = ID ; ID (); }"}
{"chunk_id":"0d4f8039ed4f82929faf7a0a022b7d36","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"c7451dcc4963080f38cd2f495c36430a","depth":7,"start_line":282,"end_line":285,"start_byte":9201,"end_byte":9376,"token_estimate":30,"fingerprint":"9c9c81f62e918af80246fd4cb2f7a75d","raw_text":"if (parentAnchor.jointRotor) {\n      parentAnchor.jointAngle = currentJointAngle;\n      parentAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }","normalized_text":"if ( ID . ID ) { ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); }"}
{"chunk_id":"a3cb6e647846b57965a615da4a0ef688","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"45bfb4f98ec361e9e5e8f46de162e48d","depth":8,"start_line":282,"end_line":285,"start_byte":9230,"end_byte":9376,"token_estimate":24,"fingerprint":"413d1ee57e1a8f5dfd012aca46640736","raw_text":"{\n      parentAnchor.jointAngle = currentJointAngle;\n      parentAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(currentJointAngle);\n    }","normalized_text":"{ ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); }"}
{"chunk_id":"af6b16a329323d2dcc08aba8b977b93c","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":297,"end_line":300,"start_byte":9710,"end_byte":9870,"token_estimate":35,"fingerprint":"49314e54fe43fc7388e04b80f566014c","raw_text":"function createModuleInstance(type, id) {\n  if (type === 'box') return new BoxModule(id, scene, jointMeshes);\n  return new ServoMotor(id, scene, jointMeshes);\n}","normalized_text":"function ID ( ID , ID ) { if ( ID === ID ) return new ID ( ID , ID , ID ); return new ID ( ID , ID , ID ); }"}
{"chunk_id":"65c8079495bb2da2d8e8b883b158f94b","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"cb12853258392d84ba70a9b08961cfb9","depth":2,"start_line":297,"end_line":300,"start_byte":9750,"end_byte":9870,"token_estimate":28,"fingerprint":"a355592403fa04e9cbe8847b54fb0f13","raw_text":"{\n  if (type === 'box') return new BoxModule(id, scene, jointMeshes);\n  return new ServoMotor(id, scene, jointMeshes);\n}","normalized_text":"{ if ( ID === ID ) return new ID ( ID , ID , ID ); return new ID ( ID , ID , ID ); }"}
{"chunk_id":"f765337a10716e26f3ccad24671e486a","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":302,"end_line":340,"start_byte":9872,"end_byte":10960,"token_estimate":248,"fingerprint":"fb021c512232acf4a017c52e9218e43c","raw_text":"function serializeSubtree(rootMotor) {\n  const data = [];\n  const queue = [rootMotor];\n  const visited = new Set([rootMotor.id]);\n  const idMap = new Map();\n  let index = 0;\n\n  while (queue.length > 0) {\n    const m = queue.shift();\n    idMap.set(m.id, index++);\n\n    const entry = {\n      id: m.id,\n      angle: m.angle,\n      moduleType: m.moduleType || 'servo',\n      isRoot: m === rootMotor\n    };\n\n    if (m.parentAnchor && m !== rootMotor) {\n      entry.parentId = m.parentAnchor.parentMotor.id;\n      entry.parentPoint = m.parentAnchor.id;\n      const myLinkedAnchor = m.anchors.find(a => a.userData.linkedAnchor === m.parentAnchor);\n      entry.myPoint = myLinkedAnchor ? myLinkedAnchor.userData.id : 'E';\n      entry.jointAngle = m.parentAnchor.jointAngle || 0;\n    }\n    data.push(entry);\n\n    m.anchors.forEach(a => {\n      if (a.userData.connectedChild) {\n        const child = a.userData.connectedChild;\n        if (!visited.has(child.id)) {\n          visited.add(child.id);\n          queue.push(child);\n        }\n      }\n    });\n  }\n  return JSON.stringify(data, null, 2);\n}","normalized_text":"function ID ( ID ) { const ID = []; const ID = [ ID ]; const ID = new ID ([ ID . ID ]); const ID = new ID (); let ID = ID ; while ( ID . ID > ID ) { const ID = ID . ID (); ID . ID ( ID . ID , ID ++); const ID = { ID : ID . ID , ID : ID . ID , ID : ID . ID || ID , ID : ID === ID }; if ( ID . ID && ID !== ID ) { ID . ID = ID . ID . ID . ID ; ID . ID = ID . ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); ID . ID = ID ? ID . ID . ID : ID ; ID . ID = ID . ID . ID || ID ; } ID . ID ( ID ); ID . ID . ID ( ID => { if ( ID . ID . ID ) { const ID = ID . ID . ID ; if (! ID . ID ( ID . ID )) { ID . ID ( ID . ID ); ID . ID ( ID ); } } }); } return ID . ID ( ID , ID , ID ); }"}
{"chunk_id":"f1ca9891219fa655b90e1b9bc4b505ca","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"85d315fd0608ef3f0b44a07cec6fd157","depth":2,"start_line":302,"end_line":340,"start_byte":9909,"end_byte":10960,"token_estimate":243,"fingerprint":"9acda9ba4308b5fa52dbd6ae7d743fcb","raw_text":"{\n  const data = [];\n  const queue = [rootMotor];\n  const visited = new Set([rootMotor.id]);\n  const idMap = new Map();\n  let index = 0;\n\n  while (queue.length > 0) {\n    const m = queue.shift();\n    idMap.set(m.id, index++);\n\n    const entry = {\n      id: m.id,\n      angle: m.angle,\n      moduleType: m.moduleType || 'servo',\n      isRoot: m === rootMotor\n    };\n\n    if (m.parentAnchor && m !== rootMotor) {\n      entry.parentId = m.parentAnchor.parentMotor.id;\n      entry.parentPoint = m.parentAnchor.id;\n      const myLinkedAnchor = m.anchors.find(a => a.userData.linkedAnchor === m.parentAnchor);\n      entry.myPoint = myLinkedAnchor ? myLinkedAnchor.userData.id : 'E';\n      entry.jointAngle = m.parentAnchor.jointAngle || 0;\n    }\n    data.push(entry);\n\n    m.anchors.forEach(a => {\n      if (a.userData.connectedChild) {\n        const child = a.userData.connectedChild;\n        if (!visited.has(child.id)) {\n          visited.add(child.id);\n          queue.push(child);\n        }\n      }\n    });\n  }\n  return JSON.stringify(data, null, 2);\n}","normalized_text":"{ const ID = []; const ID = [ ID ]; const ID = new ID ([ ID . ID ]); const ID = new ID (); let ID = ID ; while ( ID . ID > ID ) { const ID = ID . ID (); ID . ID ( ID . ID , ID ++); const ID = { ID : ID . ID , ID : ID . ID , ID : ID . ID || ID , ID : ID === ID }; if ( ID . ID && ID !== ID ) { ID . ID = ID . ID . ID . ID ; ID . ID = ID . ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); ID . ID = ID ? ID . ID . ID : ID ; ID . ID = ID . ID . ID || ID ; } ID . ID ( ID ); ID . ID . ID ( ID => { if ( ID . ID . ID ) { const ID = ID . ID . ID ; if (! ID . ID ( ID . ID )) { ID . ID ( ID . ID ); ID . ID ( ID ); } } }); } return ID . ID ( ID , ID , ID ); }"}
{"chunk_id":"503d87e34a9cb9834f4d3482152cc18f","repo":"input","path":"main.js","language":"javascript","node_type":"while_statement","parent_id":"b26a541c6e85a920dd68c35ee6d88021","depth":3,"start_line":309,"end_line":338,"start_byte":10049,"end_byte":10918,"token_estimate":199,"fingerprint":"6fc39858c61424ce50ee7841ff4ff8ac","raw_text":"while (queue.length > 0) {\n    const m = queue.shift();\n    idMap.set(m.id, index++);\n\n    const entry = {\n      id: m.id,\n      angle: m.angle,\n      moduleType: m.moduleType || 'servo',\n      isRoot: m === rootMotor\n    };\n\n    if (m.parentAnchor && m !== rootMotor) {\n      entry.parentId = m.parentAnchor.parentMotor.id;\n      entry.parentPoint = m.parentAnchor.id;\n      const myLinkedAnchor = m.anchors.find(a => a.userData.linkedAnchor === m.parentAnchor);\n      entry.myPoint = myLinkedAnchor ? myLinkedAnchor.userData.id : 'E';\n      entry.jointAngle = m.parentAnchor.jointAngle || 0;\n    }\n    data.push(entry);\n\n    m.anchors.forEach(a => {\n      if (a.userData.connectedChild) {\n        const child = a.userData.connectedChild;\n        if (!visited.has(child.id)) {\n          visited.add(child.id);\n          queue.push(child);\n        }\n      }\n    });\n  }","normalized_text":"while ( ID . ID > ID ) { const ID = ID . ID (); ID . ID ( ID . ID , ID ++); const ID = { ID : ID . ID , ID : ID . ID , ID : ID . ID || ID , ID : ID === ID }; if ( ID . ID && ID !== ID ) { ID . ID = ID . ID . ID . ID ; ID . ID = ID . ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); ID . ID = ID ? ID . ID . ID : ID ; ID . ID = ID . ID . ID || ID ; } ID . ID ( ID ); ID . ID . ID ( ID => { if ( ID . ID . ID ) { const ID = ID . ID . ID ; if (! ID . ID ( ID . ID )) { ID . ID ( ID . ID ); ID . ID ( ID ); } } }); }"}
{"chunk_id":"d91124bfb120e126b3ae1fa012dfb791","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"44c8019050281eeb41e5a351201d095b","depth":4,"start_line":309,"end_line":338,"start_byte":10074,"end_byte":10918,"token_estimate":191,"fingerprint":"6f0b72e5c99b0f1ee73cba8fca330b3f","raw_text":"{\n    const m = queue.shift();\n    idMap.set(m.id, index++);\n\n    const entry = {\n      id: m.id,\n      angle: m.angle,\n      moduleType: m.moduleType || 'servo',\n      isRoot: m === rootMotor\n    };\n\n    if (m.parentAnchor && m !== rootMotor) {\n      entry.parentId = m.parentAnchor.parentMotor.id;\n      entry.parentPoint = m.parentAnchor.id;\n      const myLinkedAnchor = m.anchors.find(a => a.userData.linkedAnchor === m.parentAnchor);\n      entry.myPoint = myLinkedAnchor ? myLinkedAnchor.userData.id : 'E';\n      entry.jointAngle = m.parentAnchor.jointAngle || 0;\n    }\n    data.push(entry);\n\n    m.anchors.forEach(a => {\n      if (a.userData.connectedChild) {\n        const child = a.userData.connectedChild;\n        if (!visited.has(child.id)) {\n          visited.add(child.id);\n          queue.push(child);\n        }\n      }\n    });\n  }","normalized_text":"{ const ID = ID . ID (); ID . ID ( ID . ID , ID ++); const ID = { ID : ID . ID , ID : ID . ID , ID : ID . ID || ID , ID : ID === ID }; if ( ID . ID && ID !== ID ) { ID . ID = ID . ID . ID . ID ; ID . ID = ID . ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); ID . ID = ID ? ID . ID . ID : ID ; ID . ID = ID . ID . ID || ID ; } ID . ID ( ID ); ID . ID . ID ( ID => { if ( ID . ID . ID ) { const ID = ID . ID . ID ; if (! ID . ID ( ID . ID )) { ID . ID ( ID . ID ); ID . ID ( ID ); } } }); }"}
{"chunk_id":"8a09fc5b034b8dca2ad2c64e0c8db6ec","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"525b42cf70294be04298eba86c974f38","depth":5,"start_line":320,"end_line":326,"start_byte":10279,"end_byte":10648,"token_estimate":81,"fingerprint":"8aad5740be3bc8bcd22a9b2760f91c67","raw_text":"if (m.parentAnchor && m !== rootMotor) {\n      entry.parentId = m.parentAnchor.parentMotor.id;\n      entry.parentPoint = m.parentAnchor.id;\n      const myLinkedAnchor = m.anchors.find(a => a.userData.linkedAnchor === m.parentAnchor);\n      entry.myPoint = myLinkedAnchor ? myLinkedAnchor.userData.id : 'E';\n      entry.jointAngle = m.parentAnchor.jointAngle || 0;\n    }","normalized_text":"if ( ID . ID && ID !== ID ) { ID . ID = ID . ID . ID . ID ; ID . ID = ID . ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); ID . ID = ID ? ID . ID . ID : ID ; ID . ID = ID . ID . ID || ID ; }"}
{"chunk_id":"15d058060febdf0364150c8fbd3c056b","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"949d1540b6d7aad3f240e7dc7c0c0304","depth":6,"start_line":320,"end_line":326,"start_byte":10318,"end_byte":10648,"token_estimate":71,"fingerprint":"3254f2d31eda9677f38fa2c9962ba43d","raw_text":"{\n      entry.parentId = m.parentAnchor.parentMotor.id;\n      entry.parentPoint = m.parentAnchor.id;\n      const myLinkedAnchor = m.anchors.find(a => a.userData.linkedAnchor === m.parentAnchor);\n      entry.myPoint = myLinkedAnchor ? myLinkedAnchor.userData.id : 'E';\n      entry.jointAngle = m.parentAnchor.jointAngle || 0;\n    }","normalized_text":"{ ID . ID = ID . ID . ID . ID ; ID . ID = ID . ID . ID ; const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); ID . ID = ID ? ID . ID . ID : ID ; ID . ID = ID . ID . ID || ID ; }"}
{"chunk_id":"c67f40713da45ed79de50cc3d10aabb4","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"525b42cf70294be04298eba86c974f38","depth":9,"start_line":329,"end_line":337,"start_byte":10699,"end_byte":10912,"token_estimate":47,"fingerprint":"ba6e5d629701b4a46d36421a9c0fb642","raw_text":"{\n      if (a.userData.connectedChild) {\n        const child = a.userData.connectedChild;\n        if (!visited.has(child.id)) {\n          visited.add(child.id);\n          queue.push(child);\n        }\n      }\n    }","normalized_text":"{ if ( ID . ID . ID ) { const ID = ID . ID . ID ; if (! ID . ID ( ID . ID )) { ID . ID ( ID . ID ); ID . ID ( ID ); } } }"}
{"chunk_id":"544290877cbf44ec9aae4654894fac50","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"a57360a5a0f6ea4d7af9023daad58ae2","depth":10,"start_line":330,"end_line":336,"start_byte":10707,"end_byte":10906,"token_estimate":45,"fingerprint":"3db2e8eebfba2d4b5fddb34d7b1cd568","raw_text":"if (a.userData.connectedChild) {\n        const child = a.userData.connectedChild;\n        if (!visited.has(child.id)) {\n          visited.add(child.id);\n          queue.push(child);\n        }\n      }","normalized_text":"if ( ID . ID . ID ) { const ID = ID . ID . ID ; if (! ID . ID ( ID . ID )) { ID . ID ( ID . ID ); ID . ID ( ID ); } }"}
{"chunk_id":"09d778fc16b29c63fca1e3627b544942","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"49f3884ecc2cfd6c74a257d8ac651948","depth":11,"start_line":330,"end_line":336,"start_byte":10738,"end_byte":10906,"token_estimate":37,"fingerprint":"b596714adb4c431706d77d2bfc929cc4","raw_text":"{\n        const child = a.userData.connectedChild;\n        if (!visited.has(child.id)) {\n          visited.add(child.id);\n          queue.push(child);\n        }\n      }","normalized_text":"{ const ID = ID . ID . ID ; if (! ID . ID ( ID . ID )) { ID . ID ( ID . ID ); ID . ID ( ID ); } }"}
{"chunk_id":"27544b85ae9ad4e1cfaf9eeb3b1c0b1b","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":342,"end_line":406,"start_byte":10962,"end_byte":12959,"token_estimate":404,"fingerprint":"e706adac0bfb40e05717603b156cc846","raw_text":"function loadSubtree(jsonStr, targetAnchor, myPointId) {\n  try {\n    const data = JSON.parse(jsonStr);\n    if (!Array.isArray(data) || data.length === 0) throw new Error('Неверный формат JSON');\n\n    const rootId = (data.find(d => d.isRoot) || data[0] || {}).id;\n    const motorMap = {};\n    let nextId = getNextMotorId();\n    const idRemap = {};\n    const orphans = new Set();\n\n    data.forEach(d => {\n      const oldId = d.id;\n      const newId = nextId++;\n      idRemap[oldId] = newId;\n      const m = createModuleInstance(d.moduleType || 'servo', newId);\n      motorMap[newId] = m;\n      motors.push(m);\n    });\n\n    data.forEach(d => {\n      const m = motorMap[idRemap[d.id]];\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        if (targetAnchor) {\n          m.attachTo(targetAnchor, myPointId);\n        } else {\n          scene.add(m.root);\n          m.root.position.y = 2.5;\n        }\n      } else {\n        const parent = motorMap[idRemap[d.parentId]];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    });\n\n    if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }\n    updateVisuals();\n    showToast('Ветка успешно вставлена!');\n    return true;\n  } catch (e) {\n    console.error('LOAD ERROR:', e);\n    showToast('Ошибка чтения JSON: ' + e.message);\n    return false;\n  }\n}","normalized_text":"function ID ( ID , ID , ID ) { try { const ID = ID . ID ( ID ); if (! ID . ID ( ID ) || ID . ID === ID ) throw new ID ( ID ); const ID = ( ID . ID ( ID => ID . ID ) || ID [ ID ] || {}). ID ; const ID = {}; let ID = ID (); const ID = {}; const ID = new ID (); ID . ID ( ID => { const ID = ID . ID ; const ID = ID ++; ID [ ID ] = ID ; const ID = ID ( ID . ID || ID , ID ); ID [ ID ] = ID ; ID . ID ( ID ); }); ID . ID ( ID => { const ID = ID [ ID [ ID . ID ]]; const ID = ID . ID === ID ; if ( ID ) { if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } } else { const ID = ID [ ID [ ID . ID ]]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }); if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); } ID (); ID ( ID ); return ID ; } catch ( ID ) { ID . ID ( ID , ID ); ID ( ID + ID . ID ); return ID ; } }"}
{"chunk_id":"627e2366b825d84937bbc1c918aae90f","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"ac0e07ccff346545f0ccc6e694037d7a","depth":2,"start_line":342,"end_line":406,"start_byte":11017,"end_byte":12959,"token_estimate":395,"fingerprint":"f685f05b29222280f803bdc9ff8e975e","raw_text":"{\n  try {\n    const data = JSON.parse(jsonStr);\n    if (!Array.isArray(data) || data.length === 0) throw new Error('Неверный формат JSON');\n\n    const rootId = (data.find(d => d.isRoot) || data[0] || {}).id;\n    const motorMap = {};\n    let nextId = getNextMotorId();\n    const idRemap = {};\n    const orphans = new Set();\n\n    data.forEach(d => {\n      const oldId = d.id;\n      const newId = nextId++;\n      idRemap[oldId] = newId;\n      const m = createModuleInstance(d.moduleType || 'servo', newId);\n      motorMap[newId] = m;\n      motors.push(m);\n    });\n\n    data.forEach(d => {\n      const m = motorMap[idRemap[d.id]];\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        if (targetAnchor) {\n          m.attachTo(targetAnchor, myPointId);\n        } else {\n          scene.add(m.root);\n          m.root.position.y = 2.5;\n        }\n      } else {\n        const parent = motorMap[idRemap[d.parentId]];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    });\n\n    if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }\n    updateVisuals();\n    showToast('Ветка успешно вставлена!');\n    return true;\n  } catch (e) {\n    console.error('LOAD ERROR:', e);\n    showToast('Ошибка чтения JSON: ' + e.message);\n    return false;\n  }\n}","normalized_text":"{ try { const ID = ID . ID ( ID ); if (! ID . ID ( ID ) || ID . ID === ID ) throw new ID ( ID ); const ID = ( ID . ID ( ID => ID . ID ) || ID [ ID ] || {}). ID ; const ID = {}; let ID = ID (); const ID = {}; const ID = new ID (); ID . ID ( ID => { const ID = ID . ID ; const ID = ID ++; ID [ ID ] = ID ; const ID = ID ( ID . ID || ID , ID ); ID [ ID ] = ID ; ID . ID ( ID ); }); ID . ID ( ID => { const ID = ID [ ID [ ID . ID ]]; const ID = ID . ID === ID ; if ( ID ) { if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } } else { const ID = ID [ ID [ ID . ID ]]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }); if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); } ID (); ID ( ID ); return ID ; } catch ( ID ) { ID . ID ( ID , ID ); ID ( ID + ID . ID ); return ID ; } }"}
{"chunk_id":"c3e6888cd680d040377a6246addcaa78","repo":"input","path":"main.js","language":"javascript","node_type":"try_statement","parent_id":"a08240d42798dd498e09b5f252ed67af","depth":3,"start_line":343,"end_line":405,"start_byte":11021,"end_byte":12957,"token_estimate":393,"fingerprint":"fe133f7806ea6e2689bbb37b95bbef53","raw_text":"try {\n    const data = JSON.parse(jsonStr);\n    if (!Array.isArray(data) || data.length === 0) throw new Error('Неверный формат JSON');\n\n    const rootId = (data.find(d => d.isRoot) || data[0] || {}).id;\n    const motorMap = {};\n    let nextId = getNextMotorId();\n    const idRemap = {};\n    const orphans = new Set();\n\n    data.forEach(d => {\n      const oldId = d.id;\n      const newId = nextId++;\n      idRemap[oldId] = newId;\n      const m = createModuleInstance(d.moduleType || 'servo', newId);\n      motorMap[newId] = m;\n      motors.push(m);\n    });\n\n    data.forEach(d => {\n      const m = motorMap[idRemap[d.id]];\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        if (targetAnchor) {\n          m.attachTo(targetAnchor, myPointId);\n        } else {\n          scene.add(m.root);\n          m.root.position.y = 2.5;\n        }\n      } else {\n        const parent = motorMap[idRemap[d.parentId]];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    });\n\n    if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }\n    updateVisuals();\n    showToast('Ветка успешно вставлена!');\n    return true;\n  } catch (e) {\n    console.error('LOAD ERROR:', e);\n    showToast('Ошибка чтения JSON: ' + e.message);\n    return false;\n  }","normalized_text":"try { const ID = ID . ID ( ID ); if (! ID . ID ( ID ) || ID . ID === ID ) throw new ID ( ID ); const ID = ( ID . ID ( ID => ID . ID ) || ID [ ID ] || {}). ID ; const ID = {}; let ID = ID (); const ID = {}; const ID = new ID (); ID . ID ( ID => { const ID = ID . ID ; const ID = ID ++; ID [ ID ] = ID ; const ID = ID ( ID . ID || ID , ID ); ID [ ID ] = ID ; ID . ID ( ID ); }); ID . ID ( ID => { const ID = ID [ ID [ ID . ID ]]; const ID = ID . ID === ID ; if ( ID ) { if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } } else { const ID = ID [ ID [ ID . ID ]]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }); if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); } ID (); ID ( ID ); return ID ; } catch ( ID ) { ID . ID ( ID , ID ); ID ( ID + ID . ID ); return ID ; }"}
{"chunk_id":"29d996455caec8123a9219a9a85d9d2b","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"d8f3027b41052fba243f13c92efcafe1","depth":4,"start_line":343,"end_line":401,"start_byte":11025,"end_byte":12823,"token_estimate":367,"fingerprint":"4b397f951129efd5ed2c78c76115a733","raw_text":"{\n    const data = JSON.parse(jsonStr);\n    if (!Array.isArray(data) || data.length === 0) throw new Error('Неверный формат JSON');\n\n    const rootId = (data.find(d => d.isRoot) || data[0] || {}).id;\n    const motorMap = {};\n    let nextId = getNextMotorId();\n    const idRemap = {};\n    const orphans = new Set();\n\n    data.forEach(d => {\n      const oldId = d.id;\n      const newId = nextId++;\n      idRemap[oldId] = newId;\n      const m = createModuleInstance(d.moduleType || 'servo', newId);\n      motorMap[newId] = m;\n      motors.push(m);\n    });\n\n    data.forEach(d => {\n      const m = motorMap[idRemap[d.id]];\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        if (targetAnchor) {\n          m.attachTo(targetAnchor, myPointId);\n        } else {\n          scene.add(m.root);\n          m.root.position.y = 2.5;\n        }\n      } else {\n        const parent = motorMap[idRemap[d.parentId]];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    });\n\n    if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }\n    updateVisuals();\n    showToast('Ветка успешно вставлена!');\n    return true;\n  }","normalized_text":"{ const ID = ID . ID ( ID ); if (! ID . ID ( ID ) || ID . ID === ID ) throw new ID ( ID ); const ID = ( ID . ID ( ID => ID . ID ) || ID [ ID ] || {}). ID ; const ID = {}; let ID = ID (); const ID = {}; const ID = new ID (); ID . ID ( ID => { const ID = ID . ID ; const ID = ID ++; ID [ ID ] = ID ; const ID = ID ( ID . ID || ID , ID ); ID [ ID ] = ID ; ID . ID ( ID ); }); ID . ID ( ID => { const ID = ID [ ID [ ID . ID ]]; const ID = ID . ID === ID ; if ( ID ) { if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } } else { const ID = ID [ ID [ ID . ID ]]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }); if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); } ID (); ID ( ID ); return ID ; }"}
{"chunk_id":"bd93df8f713c759e19fa642f18a005f2","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"8aa2c72050bd6214b0a0553ed9a39e5b","depth":9,"start_line":353,"end_line":360,"start_byte":11377,"end_byte":11589,"token_estimate":47,"fingerprint":"051cd9d94fb3397dc09c9467fc0c48d3","raw_text":"{\n      const oldId = d.id;\n      const newId = nextId++;\n      idRemap[oldId] = newId;\n      const m = createModuleInstance(d.moduleType || 'servo', newId);\n      motorMap[newId] = m;\n      motors.push(m);\n    }","normalized_text":"{ const ID = ID . ID ; const ID = ID ++; ID [ ID ] = ID ; const ID = ID ( ID . ID || ID , ID ); ID [ ID ] = ID ; ID . ID ( ID ); }"}
{"chunk_id":"0f5fe172da8cdef8245d356d88768701","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"8aa2c72050bd6214b0a0553ed9a39e5b","depth":9,"start_line":362,"end_line":389,"start_byte":11615,"end_byte":12566,"token_estimate":188,"fingerprint":"33e64a6a4f32e3ae5c2338ceefa02bb0","raw_text":"{\n      const m = motorMap[idRemap[d.id]];\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        if (targetAnchor) {\n          m.attachTo(targetAnchor, myPointId);\n        } else {\n          scene.add(m.root);\n          m.root.position.y = 2.5;\n        }\n      } else {\n        const parent = motorMap[idRemap[d.parentId]];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    }","normalized_text":"{ const ID = ID [ ID [ ID . ID ]]; const ID = ID . ID === ID ; if ( ID ) { if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } } else { const ID = ID [ ID [ ID . ID ]]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }"}
{"chunk_id":"0068e7c10369039a82142b7e85827d78","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"7343d78da009fea8f8d93133d109c912","depth":10,"start_line":365,"end_line":387,"start_byte":11702,"end_byte":12520,"token_estimate":156,"fingerprint":"e8f7bb7424588dcfe5d218fea7b4142b","raw_text":"if (isRoot) {\n        if (targetAnchor) {\n          m.attachTo(targetAnchor, myPointId);\n        } else {\n          scene.add(m.root);\n          m.root.position.y = 2.5;\n        }\n      } else {\n        const parent = motorMap[idRemap[d.parentId]];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }","normalized_text":"if ( ID ) { if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } } else { const ID = ID [ ID [ ID . ID ]]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } }"}
{"chunk_id":"db746fc0eacb055c4aac94a0e5231199","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"a41273e18040a3f169c4e7d380e6d26c","depth":11,"start_line":365,"end_line":372,"start_byte":11714,"end_byte":11889,"token_estimate":37,"fingerprint":"8864f1dbcd2ec68eeecbad12bdb9e248","raw_text":"{\n        if (targetAnchor) {\n          m.attachTo(targetAnchor, myPointId);\n        } else {\n          scene.add(m.root);\n          m.root.position.y = 2.5;\n        }\n      }","normalized_text":"{ if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } }"}
{"chunk_id":"a3098da02438aef3416db7b66a8b64f6","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"a444d0dc431561738e73006d3e23087e","depth":12,"start_line":366,"end_line":371,"start_byte":11724,"end_byte":11881,"token_estimate":35,"fingerprint":"6ea470e22c7669b609cb05efab4dcaeb","raw_text":"if (targetAnchor) {\n          m.attachTo(targetAnchor, myPointId);\n        } else {\n          scene.add(m.root);\n          m.root.position.y = 2.5;\n        }","normalized_text":"if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; }"}
{"chunk_id":"c52abbb4ce6733e37e210e2d7b99d4e4","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"a41273e18040a3f169c4e7d380e6d26c","depth":12,"start_line":372,"end_line":387,"start_byte":11895,"end_byte":12520,"token_estimate":114,"fingerprint":"999cbf9ec614aa64082bf96f5f746e2d","raw_text":"{\n        const parent = motorMap[idRemap[d.parentId]];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }","normalized_text":"{ const ID = ID [ ID [ ID . ID ]]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } }"}
{"chunk_id":"dcd6123d4456a27db0060230fb37ffe2","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"5cebdb0a6082957477281f52411362c2","depth":13,"start_line":374,"end_line":386,"start_byte":11959,"end_byte":12512,"token_estimate":101,"fingerprint":"32854dca440c9b8977d49ad241edcae5","raw_text":"if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }","normalized_text":"if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); }"}
{"chunk_id":"cce67ce17502cfac388318592faf8c4d","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"be89899907eda6962f7f1e9cb674a26c","depth":14,"start_line":374,"end_line":384,"start_byte":11971,"end_byte":12466,"token_estimate":86,"fingerprint":"54fd3d164f7a62e91d24db4400803942","raw_text":"{\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        }","normalized_text":"{ const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } }"}
{"chunk_id":"9dddac8a2b9e8af263cc1c5e2ec33aff","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"3845577d501c034aa239eb806912e69d","depth":15,"start_line":376,"end_line":383,"start_byte":12078,"end_byte":12456,"token_estimate":63,"fingerprint":"97351e4f675ece618f2827b4d8a272a7","raw_text":"if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }","normalized_text":"if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } }"}
{"chunk_id":"efcb60b79c3207871ef07c4dfe77ef94","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"a20304b902440d1bd6e1abaee790bba4","depth":16,"start_line":376,"end_line":383,"start_byte":12101,"end_byte":12456,"token_estimate":59,"fingerprint":"772583cfa8e671b46d50d03aa79e1bb3","raw_text":"{\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }","normalized_text":"{ const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } }"}
{"chunk_id":"ce2787cdcb8ab35a73044063b33a3e1a","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"3aeffc7e34f42e89c263c97fc79137bb","depth":17,"start_line":379,"end_line":382,"start_byte":12225,"end_byte":12444,"token_estimate":40,"fingerprint":"706e7790c39735e20ca11f1bdd7d1a8a","raw_text":"if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }","normalized_text":"if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); }"}
{"chunk_id":"82e7b2bfecaaef163310b30df195ba8e","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"907faecdae9e5a95d9098f339cb990c1","depth":18,"start_line":379,"end_line":382,"start_byte":12284,"end_byte":12444,"token_estimate":28,"fingerprint":"9c2cb73e88b3faa7196d0840097e4fac","raw_text":"{\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }","normalized_text":"{ ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); }"}
{"chunk_id":"435979549fd0b85e1532d4eee4a23f8e","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"8aa2c72050bd6214b0a0553ed9a39e5b","depth":5,"start_line":391,"end_line":397,"start_byte":12574,"end_byte":12717,"token_estimate":37,"fingerprint":"eb5b912bb7169b9e292c0a4dd9199dc9","raw_text":"if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }","normalized_text":"if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); }"}
{"chunk_id":"cd2a6efa4d68cc0dcfbe07e6b04b32f4","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"4a70aff60ccede63d16833a3cd857dce","depth":6,"start_line":391,"end_line":397,"start_byte":12596,"end_byte":12717,"token_estimate":29,"fingerprint":"383f06069b519c0227fad4887906172c","raw_text":"{\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }","normalized_text":"{ ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); }"}
{"chunk_id":"6ff23bbf30c74e2fd2a5accc93b8338f","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":408,"end_line":465,"start_byte":12961,"end_byte":14679,"token_estimate":367,"fingerprint":"32e2b6bd58fe57714625ac24a9e6b5b4","raw_text":"function loadScene(jsonStr) {\n  try {\n    const data = JSON.parse(jsonStr);\n    if (!Array.isArray(data)) throw new Error('JSON должен быть массивом');\n    const rootId = (data.find(d => d.isRoot) || data[0] || {}).id;\n    const allMotors = [...motors];\n    allMotors.forEach(m => {\n      if (m.root.parent) scene.remove(m.root);\n      m.dispose();\n    });\n    motors.length = 0;\n    jointMeshes.length = 0;\n    selectedObject = null;\n    updateGUI();\n\n    const idMap = {};\n    const orphans = new Set();\n\n    data.forEach(d => {\n      const m = createModuleInstance(d.moduleType || 'servo', d.id);\n      idMap[d.id] = m;\n      motors.push(m);\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        scene.add(m.root);\n        m.root.position.y = 2.5;\n      } else {\n        const parent = idMap[d.parentId];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    });\n\n    if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }\n    updateVisuals();\n    showToast('Сцена загружена!');\n  } catch (e) {\n    console.error(e);\n  }\n}","normalized_text":"function ID ( ID ) { try { const ID = ID . ID ( ID ); if (! ID . ID ( ID )) throw new ID ( ID ); const ID = ( ID . ID ( ID => ID . ID ) || ID [ ID ] || {}). ID ; const ID = [... ID ]; ID . ID ( ID => { if ( ID . ID . ID ) ID . ID ( ID . ID ); ID . ID (); }); ID . ID = ID ; ID . ID = ID ; ID = ID ; ID (); const ID = {}; const ID = new ID (); ID . ID ( ID => { const ID = ID ( ID . ID || ID , ID . ID ); ID [ ID . ID ] = ID ; ID . ID ( ID ); const ID = ID . ID === ID ; if ( ID ) { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } else { const ID = ID [ ID . ID ]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }); if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); } ID (); ID ( ID ); } catch ( ID ) { ID . ID ( ID ); } }"}
{"chunk_id":"fc0d375f20e009938cb5710e57c6b0a9","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"186742bba915d6f4856878de78f965be","depth":2,"start_line":408,"end_line":465,"start_byte":12989,"end_byte":14679,"token_estimate":362,"fingerprint":"3bff822628b590c402c61fcdf258fbca","raw_text":"{\n  try {\n    const data = JSON.parse(jsonStr);\n    if (!Array.isArray(data)) throw new Error('JSON должен быть массивом');\n    const rootId = (data.find(d => d.isRoot) || data[0] || {}).id;\n    const allMotors = [...motors];\n    allMotors.forEach(m => {\n      if (m.root.parent) scene.remove(m.root);\n      m.dispose();\n    });\n    motors.length = 0;\n    jointMeshes.length = 0;\n    selectedObject = null;\n    updateGUI();\n\n    const idMap = {};\n    const orphans = new Set();\n\n    data.forEach(d => {\n      const m = createModuleInstance(d.moduleType || 'servo', d.id);\n      idMap[d.id] = m;\n      motors.push(m);\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        scene.add(m.root);\n        m.root.position.y = 2.5;\n      } else {\n        const parent = idMap[d.parentId];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    });\n\n    if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }\n    updateVisuals();\n    showToast('Сцена загружена!');\n  } catch (e) {\n    console.error(e);\n  }\n}","normalized_text":"{ try { const ID = ID . ID ( ID ); if (! ID . ID ( ID )) throw new ID ( ID ); const ID = ( ID . ID ( ID => ID . ID ) || ID [ ID ] || {}). ID ; const ID = [... ID ]; ID . ID ( ID => { if ( ID . ID . ID ) ID . ID ( ID . ID ); ID . ID (); }); ID . ID = ID ; ID . ID = ID ; ID = ID ; ID (); const ID = {}; const ID = new ID (); ID . ID ( ID => { const ID = ID ( ID . ID || ID , ID . ID ); ID [ ID . ID ] = ID ; ID . ID ( ID ); const ID = ID . ID === ID ; if ( ID ) { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } else { const ID = ID [ ID . ID ]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }); if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); } ID (); ID ( ID ); } catch ( ID ) { ID . ID ( ID ); } }"}
{"chunk_id":"1165974a6307e6fc2863ec27c602f8a0","repo":"input","path":"main.js","language":"javascript","node_type":"try_statement","parent_id":"ae158f046aff19dc9ec3fac8d9c531cb","depth":3,"start_line":409,"end_line":464,"start_byte":12993,"end_byte":14677,"token_estimate":360,"fingerprint":"7d4153b44a89be842fc32245751ba2f3","raw_text":"try {\n    const data = JSON.parse(jsonStr);\n    if (!Array.isArray(data)) throw new Error('JSON должен быть массивом');\n    const rootId = (data.find(d => d.isRoot) || data[0] || {}).id;\n    const allMotors = [...motors];\n    allMotors.forEach(m => {\n      if (m.root.parent) scene.remove(m.root);\n      m.dispose();\n    });\n    motors.length = 0;\n    jointMeshes.length = 0;\n    selectedObject = null;\n    updateGUI();\n\n    const idMap = {};\n    const orphans = new Set();\n\n    data.forEach(d => {\n      const m = createModuleInstance(d.moduleType || 'servo', d.id);\n      idMap[d.id] = m;\n      motors.push(m);\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        scene.add(m.root);\n        m.root.position.y = 2.5;\n      } else {\n        const parent = idMap[d.parentId];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    });\n\n    if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }\n    updateVisuals();\n    showToast('Сцена загружена!');\n  } catch (e) {\n    console.error(e);\n  }","normalized_text":"try { const ID = ID . ID ( ID ); if (! ID . ID ( ID )) throw new ID ( ID ); const ID = ( ID . ID ( ID => ID . ID ) || ID [ ID ] || {}). ID ; const ID = [... ID ]; ID . ID ( ID => { if ( ID . ID . ID ) ID . ID ( ID . ID ); ID . ID (); }); ID . ID = ID ; ID . ID = ID ; ID = ID ; ID (); const ID = {}; const ID = new ID (); ID . ID ( ID => { const ID = ID ( ID . ID || ID , ID . ID ); ID [ ID . ID ] = ID ; ID . ID ( ID ); const ID = ID . ID === ID ; if ( ID ) { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } else { const ID = ID [ ID . ID ]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }); if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); } ID (); ID ( ID ); } catch ( ID ) { ID . ID ( ID ); }"}
{"chunk_id":"39ad21ba714eb39659fe41f07c0bd2ca","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"f2fc48b42f10b6aa2124f74dcb43ff0c","depth":4,"start_line":409,"end_line":462,"start_byte":12997,"end_byte":14639,"token_estimate":347,"fingerprint":"d2a785fdb4ee63eeca6087c19d0ccf82","raw_text":"{\n    const data = JSON.parse(jsonStr);\n    if (!Array.isArray(data)) throw new Error('JSON должен быть массивом');\n    const rootId = (data.find(d => d.isRoot) || data[0] || {}).id;\n    const allMotors = [...motors];\n    allMotors.forEach(m => {\n      if (m.root.parent) scene.remove(m.root);\n      m.dispose();\n    });\n    motors.length = 0;\n    jointMeshes.length = 0;\n    selectedObject = null;\n    updateGUI();\n\n    const idMap = {};\n    const orphans = new Set();\n\n    data.forEach(d => {\n      const m = createModuleInstance(d.moduleType || 'servo', d.id);\n      idMap[d.id] = m;\n      motors.push(m);\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        scene.add(m.root);\n        m.root.position.y = 2.5;\n      } else {\n        const parent = idMap[d.parentId];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    });\n\n    if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }\n    updateVisuals();\n    showToast('Сцена загружена!');\n  }","normalized_text":"{ const ID = ID . ID ( ID ); if (! ID . ID ( ID )) throw new ID ( ID ); const ID = ( ID . ID ( ID => ID . ID ) || ID [ ID ] || {}). ID ; const ID = [... ID ]; ID . ID ( ID => { if ( ID . ID . ID ) ID . ID ( ID . ID ); ID . ID (); }); ID . ID = ID ; ID . ID = ID ; ID = ID ; ID (); const ID = {}; const ID = new ID (); ID . ID ( ID => { const ID = ID ( ID . ID || ID , ID . ID ); ID [ ID . ID ] = ID ; ID . ID ( ID ); const ID = ID . ID === ID ; if ( ID ) { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } else { const ID = ID [ ID . ID ]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }); if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); } ID (); ID ( ID ); }"}
{"chunk_id":"998e0914575c19565a872e87f7ac9df2","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"15733d2823d81a583cd91968a985ad8e","depth":9,"start_line":426,"end_line":451,"start_byte":13508,"end_byte":14414,"token_estimate":188,"fingerprint":"dd36baa8813cf9beccac1dd51476bfb1","raw_text":"{\n      const m = createModuleInstance(d.moduleType || 'servo', d.id);\n      idMap[d.id] = m;\n      motors.push(m);\n      const isRoot = d.id === rootId;\n      if (isRoot) {\n        scene.add(m.root);\n        m.root.position.y = 2.5;\n      } else {\n        const parent = idMap[d.parentId];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }\n      m.setAngle(d.angle, isColliding);\n    }","normalized_text":"{ const ID = ID ( ID . ID || ID , ID . ID ); ID [ ID . ID ] = ID ; ID . ID ( ID ); const ID = ID . ID === ID ; if ( ID ) { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } else { const ID = ID [ ID . ID ]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } } ID . ID ( ID . ID , ID ); }"}
{"chunk_id":"8ca9d8e0daac48d399605c048d29057b","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"cf27fc2fc6c8cd238401864f5b50060d","depth":10,"start_line":431,"end_line":449,"start_byte":13668,"end_byte":14368,"token_estimate":137,"fingerprint":"22c7233b2834f0a01e72ee24687fad9b","raw_text":"if (isRoot) {\n        scene.add(m.root);\n        m.root.position.y = 2.5;\n      } else {\n        const parent = idMap[d.parentId];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }","normalized_text":"if ( ID ) { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } else { const ID = ID [ ID . ID ]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } }"}
{"chunk_id":"d5f0d2a0658353acfe5bde4c67e98daf","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"ad4de6b08c2299aebcd1274280754cb0","depth":12,"start_line":434,"end_line":449,"start_byte":13755,"end_byte":14368,"token_estimate":112,"fingerprint":"b92910e347bb70e350721d4bc0eabd2a","raw_text":"{\n        const parent = idMap[d.parentId];\n        if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }\n      }","normalized_text":"{ const ID = ID [ ID . ID ]; if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); } }"}
{"chunk_id":"a4c8565f4d45976a22bbce515d6ef924","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"6d901d7d04220382fd665b71da3c39c8","depth":13,"start_line":436,"end_line":448,"start_byte":13807,"end_byte":14360,"token_estimate":101,"fingerprint":"32854dca440c9b8977d49ad241edcae5","raw_text":"if (parent) {\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        } else {\n          orphans.add(m.id);\n        }","normalized_text":"if ( ID ) { const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } } else { ID . ID ( ID . ID ); }"}
{"chunk_id":"38fe57b550a63b7dadb7a374bf9f5e7b","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"7fe5bdb2563ed9e57c9b13e10dcfc5d0","depth":14,"start_line":436,"end_line":446,"start_byte":13819,"end_byte":14314,"token_estimate":86,"fingerprint":"54fd3d164f7a62e91d24db4400803942","raw_text":"{\n          const parentAnchorGroup = parent.anchors.find(a => a.userData.id === d.parentPoint);\n          if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }\n        }","normalized_text":"{ const ID = ID . ID . ID ( ID => ID . ID . ID === ID . ID ); if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } } }"}
{"chunk_id":"cacaa57b41ecab5dd0fae2e33f1dd5d2","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"35f0273fea39fb96b8819d598f422c34","depth":15,"start_line":438,"end_line":445,"start_byte":13926,"end_byte":14304,"token_estimate":63,"fingerprint":"97351e4f675ece618f2827b4d8a272a7","raw_text":"if (parentAnchorGroup) {\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }","normalized_text":"if ( ID ) { const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } }"}
{"chunk_id":"f320fb303b3c638aed746533e7eb85c3","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"c27c662675837c31ecbe788a10c21384","depth":16,"start_line":438,"end_line":445,"start_byte":13949,"end_byte":14304,"token_estimate":59,"fingerprint":"772583cfa8e671b46d50d03aa79e1bb3","raw_text":"{\n            const targetAnchor = parentAnchorGroup.userData;\n            m.attachTo(targetAnchor, d.myPoint);\n            if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }\n          }","normalized_text":"{ const ID = ID . ID ; ID . ID ( ID , ID . ID ); if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); } }"}
{"chunk_id":"01994d19e7b090ac480b675caa16c491","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"63d458f4cba060226eb7bfa2644110c7","depth":17,"start_line":441,"end_line":444,"start_byte":14073,"end_byte":14292,"token_estimate":40,"fingerprint":"706e7790c39735e20ca11f1bdd7d1a8a","raw_text":"if (d.jointAngle !== undefined && targetAnchor.jointRotor) {\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }","normalized_text":"if ( ID . ID !== ID && ID . ID ) { ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); }"}
{"chunk_id":"f6cf8c7e2ecfd467c4fad727e7c0dfc4","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"7280aab4b05e5f36653bb832e58d07e7","depth":18,"start_line":441,"end_line":444,"start_byte":14132,"end_byte":14292,"token_estimate":28,"fingerprint":"9c2cb73e88b3faa7196d0840097e4fac","raw_text":"{\n              targetAnchor.jointAngle = d.jointAngle;\n              targetAnchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(d.jointAngle);\n            }","normalized_text":"{ ID . ID = ID . ID ; ID . ID . ID . ID = ID . ID . ID ( ID . ID ); }"}
{"chunk_id":"00025a0607f7a507c0c08976787d7a51","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"15733d2823d81a583cd91968a985ad8e","depth":5,"start_line":453,"end_line":459,"start_byte":14422,"end_byte":14565,"token_estimate":37,"fingerprint":"eb5b912bb7169b9e292c0a4dd9199dc9","raw_text":"if (orphans.size > 0) {\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }","normalized_text":"if ( ID . ID > ID ) { ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); }"}
{"chunk_id":"d852dd5c2c727968814d61908f803c81","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"1ca9af35e154528a4ef1bb8bd3717b34","depth":6,"start_line":453,"end_line":459,"start_byte":14444,"end_byte":14565,"token_estimate":29,"fingerprint":"383f06069b519c0227fad4887906172c","raw_text":"{\n      motors.splice(\n        0,\n        motors.length,\n        ...motors.filter(m => !orphans.has(m.id))\n      );\n    }","normalized_text":"{ ID . ID ( ID , ID . ID , ... ID . ID ( ID => ! ID . ID ( ID . ID )) ); }"}
{"chunk_id":"ee7e413a9ef07b129fd2efa47d935e49","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":467,"end_line":482,"start_byte":14681,"end_byte":15220,"token_estimate":124,"fingerprint":"475c9e2dd467f698048f1810112dc170","raw_text":"function isColliding() {\n  motors.forEach(m => m.updateOBB(showOBB));\n  for (let i = 0; i < motors.length; i++) {\n    for (let j = i + 1; j < motors.length; j++) {\n      const m1 = motors[i];\n      const m2 = motors[j];\n      const isParent1 = m1.parentAnchor && m1.parentAnchor.parentMotor === m2;\n      const isParent2 = m2.parentAnchor && m2.parentAnchor.parentMotor === m1;\n      if (isParent1 || isParent2) continue;\n      if (m1.obb.intersectsOBB(m2.obb, COLLISION_EPSILON)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}","normalized_text":"function ID () { ID . ID ( ID => ID . ID ( ID )); for (let ID = ID ; ID < ID . ID ; ID ++) { for (let ID = ID + ID ; ID < ID . ID ; ID ++) { const ID = ID [ ID ]; const ID = ID [ ID ]; const ID = ID . ID && ID . ID . ID === ID ; const ID = ID . ID && ID . ID . ID === ID ; if ( ID || ID ) continue; if ( ID . ID . ID ( ID . ID , ID )) { return ID ; } } } return ID ; }"}
{"chunk_id":"42994b693639b59379ae4f0632c38406","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"d73f2985b933593db104d9ae5107f653","depth":2,"start_line":467,"end_line":482,"start_byte":14704,"end_byte":15220,"token_estimate":121,"fingerprint":"2b9b354c6c9ac7b7106a98544d8bfc8c","raw_text":"{\n  motors.forEach(m => m.updateOBB(showOBB));\n  for (let i = 0; i < motors.length; i++) {\n    for (let j = i + 1; j < motors.length; j++) {\n      const m1 = motors[i];\n      const m2 = motors[j];\n      const isParent1 = m1.parentAnchor && m1.parentAnchor.parentMotor === m2;\n      const isParent2 = m2.parentAnchor && m2.parentAnchor.parentMotor === m1;\n      if (isParent1 || isParent2) continue;\n      if (m1.obb.intersectsOBB(m2.obb, COLLISION_EPSILON)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}","normalized_text":"{ ID . ID ( ID => ID . ID ( ID )); for (let ID = ID ; ID < ID . ID ; ID ++) { for (let ID = ID + ID ; ID < ID . ID ; ID ++) { const ID = ID [ ID ]; const ID = ID [ ID ]; const ID = ID . ID && ID . ID . ID === ID ; const ID = ID . ID && ID . ID . ID === ID ; if ( ID || ID ) continue; if ( ID . ID . ID ( ID . ID , ID )) { return ID ; } } } return ID ; }"}
{"chunk_id":"b470ba526ba2f6125a61192ea70231d5","repo":"input","path":"main.js","language":"javascript","node_type":"for_statement","parent_id":"bd247029fd6c692df22cde02b185380d","depth":3,"start_line":469,"end_line":480,"start_byte":14753,"end_byte":15202,"token_estimate":104,"fingerprint":"5c77bcfe40cb4038fa80692f2d2cf07e","raw_text":"for (let i = 0; i < motors.length; i++) {\n    for (let j = i + 1; j < motors.length; j++) {\n      const m1 = motors[i];\n      const m2 = motors[j];\n      const isParent1 = m1.parentAnchor && m1.parentAnchor.parentMotor === m2;\n      const isParent2 = m2.parentAnchor && m2.parentAnchor.parentMotor === m1;\n      if (isParent1 || isParent2) continue;\n      if (m1.obb.intersectsOBB(m2.obb, COLLISION_EPSILON)) {\n        return true;\n      }\n    }\n  }","normalized_text":"for (let ID = ID ; ID < ID . ID ; ID ++) { for (let ID = ID + ID ; ID < ID . ID ; ID ++) { const ID = ID [ ID ]; const ID = ID [ ID ]; const ID = ID . ID && ID . ID . ID === ID ; const ID = ID . ID && ID . ID . ID === ID ; if ( ID || ID ) continue; if ( ID . ID . ID ( ID . ID , ID )) { return ID ; } } }"}
{"chunk_id":"b2b66ad397a1cceb922d14ae8c6024f3","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"0fd90f4af5bb77518ccd5f5400e09f31","depth":4,"start_line":469,"end_line":480,"start_byte":14793,"end_byte":15202,"token_estimate":90,"fingerprint":"3098dab338d250625f7f80fcaae9ae56","raw_text":"{\n    for (let j = i + 1; j < motors.length; j++) {\n      const m1 = motors[i];\n      const m2 = motors[j];\n      const isParent1 = m1.parentAnchor && m1.parentAnchor.parentMotor === m2;\n      const isParent2 = m2.parentAnchor && m2.parentAnchor.parentMotor === m1;\n      if (isParent1 || isParent2) continue;\n      if (m1.obb.intersectsOBB(m2.obb, COLLISION_EPSILON)) {\n        return true;\n      }\n    }\n  }","normalized_text":"{ for (let ID = ID + ID ; ID < ID . ID ; ID ++) { const ID = ID [ ID ]; const ID = ID [ ID ]; const ID = ID . ID && ID . ID . ID === ID ; const ID = ID . ID && ID . ID . ID === ID ; if ( ID || ID ) continue; if ( ID . ID . ID ( ID . ID , ID )) { return ID ; } } }"}
{"chunk_id":"6c13c1572eb5a803f0a6e6fa06da83d0","repo":"input","path":"main.js","language":"javascript","node_type":"for_statement","parent_id":"096c8616ab70f5f6370da2d3bc9dc7c3","depth":5,"start_line":470,"end_line":479,"start_byte":14799,"end_byte":15198,"token_estimate":88,"fingerprint":"76618291113c01352ff116e05742496b","raw_text":"for (let j = i + 1; j < motors.length; j++) {\n      const m1 = motors[i];\n      const m2 = motors[j];\n      const isParent1 = m1.parentAnchor && m1.parentAnchor.parentMotor === m2;\n      const isParent2 = m2.parentAnchor && m2.parentAnchor.parentMotor === m1;\n      if (isParent1 || isParent2) continue;\n      if (m1.obb.intersectsOBB(m2.obb, COLLISION_EPSILON)) {\n        return true;\n      }\n    }","normalized_text":"for (let ID = ID + ID ; ID < ID . ID ; ID ++) { const ID = ID [ ID ]; const ID = ID [ ID ]; const ID = ID . ID && ID . ID . ID === ID ; const ID = ID . ID && ID . ID . ID === ID ; if ( ID || ID ) continue; if ( ID . ID . ID ( ID . ID , ID )) { return ID ; } }"}
{"chunk_id":"fa14e8643942ff2cd56227d672889a91","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"b514699874b1ec82a112025281fd4d3a","depth":6,"start_line":470,"end_line":479,"start_byte":14843,"end_byte":15198,"token_estimate":72,"fingerprint":"4cc8fb62871ea07785218f3e66281fe9","raw_text":"{\n      const m1 = motors[i];\n      const m2 = motors[j];\n      const isParent1 = m1.parentAnchor && m1.parentAnchor.parentMotor === m2;\n      const isParent2 = m2.parentAnchor && m2.parentAnchor.parentMotor === m1;\n      if (isParent1 || isParent2) continue;\n      if (m1.obb.intersectsOBB(m2.obb, COLLISION_EPSILON)) {\n        return true;\n      }\n    }","normalized_text":"{ const ID = ID [ ID ]; const ID = ID [ ID ]; const ID = ID . ID && ID . ID . ID === ID ; const ID = ID . ID && ID . ID . ID === ID ; if ( ID || ID ) continue; if ( ID . ID . ID ( ID . ID , ID )) { return ID ; } }"}
{"chunk_id":"0e4b77dbde8091f285318a6398ff1806","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":484,"end_line":505,"start_byte":15222,"end_byte":16038,"token_estimate":164,"fingerprint":"82e897adc425c0ede8a6d7e192457cf0","raw_text":"function updateVisuals() {\n  motors.forEach(m => {\n    m.updateOBB(showOBB);\n    const bodyColor =\n      selectedObject && selectedObject.type === 'body' && selectedObject.motor === m\n        ? COLORS.BODY_SELECTED\n        : COLORS.BODY_DEFAULT;\n    m.bodyGeo?.children.forEach(c => {\n      if (c.userData.type === 'body' && c.material && c.material.color && !c.userData.accent) {\n        c.material.color.setHex(bodyColor);\n      }\n    });\n    m.anchors?.forEach(a => updateAnchorVisuals(a.userData, selectedObject, COLORS, camera));\n  });\n\n  jointMeshes.forEach(mesh => {\n    const isSelected = selectedObject && selectedObject.type === 'joint_disc' && selectedObject.anchor === mesh.userData.anchor;\n    mesh.material.color.setHex(isSelected ? COLORS.JOINT_SELECTED : COLORS.JOINT_NORMAL);\n  });\n\n  updateGUI();\n}","normalized_text":"function ID () { ID . ID ( ID => { ID . ID ( ID ); const ID = ID && ID . ID === ID && ID . ID === ID ? ID . ID : ID . ID ; ID . ID ?. ID . ID ( ID => { if ( ID . ID . ID === ID && ID . ID && ID . ID . ID && ! ID . ID . ID ) { ID . ID . ID . ID ( ID ); } }); ID . ID ?. ID ( ID => ID ( ID . ID , ID , ID , ID )); }); ID . ID ( ID => { const ID = ID && ID . ID === ID && ID . ID === ID . ID . ID ; ID . ID . ID . ID ( ID ? ID . ID : ID . ID ); }); ID (); }"}
{"chunk_id":"8bea3c6e87af79490b94661aa1dd127d","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"e377f840e43d9c222b5b0faadea59053","depth":2,"start_line":484,"end_line":505,"start_byte":15247,"end_byte":16038,"token_estimate":161,"fingerprint":"15091f38e141a3b199a43b1e3fd76b70","raw_text":"{\n  motors.forEach(m => {\n    m.updateOBB(showOBB);\n    const bodyColor =\n      selectedObject && selectedObject.type === 'body' && selectedObject.motor === m\n        ? COLORS.BODY_SELECTED\n        : COLORS.BODY_DEFAULT;\n    m.bodyGeo?.children.forEach(c => {\n      if (c.userData.type === 'body' && c.material && c.material.color && !c.userData.accent) {\n        c.material.color.setHex(bodyColor);\n      }\n    });\n    m.anchors?.forEach(a => updateAnchorVisuals(a.userData, selectedObject, COLORS, camera));\n  });\n\n  jointMeshes.forEach(mesh => {\n    const isSelected = selectedObject && selectedObject.type === 'joint_disc' && selectedObject.anchor === mesh.userData.anchor;\n    mesh.material.color.setHex(isSelected ? COLORS.JOINT_SELECTED : COLORS.JOINT_NORMAL);\n  });\n\n  updateGUI();\n}","normalized_text":"{ ID . ID ( ID => { ID . ID ( ID ); const ID = ID && ID . ID === ID && ID . ID === ID ? ID . ID : ID . ID ; ID . ID ?. ID . ID ( ID => { if ( ID . ID . ID === ID && ID . ID && ID . ID . ID && ! ID . ID . ID ) { ID . ID . ID . ID ( ID ); } }); ID . ID ?. ID ( ID => ID ( ID . ID , ID , ID , ID )); }); ID . ID ( ID => { const ID = ID && ID . ID === ID && ID . ID === ID . ID . ID ; ID . ID . ID . ID ( ID ? ID . ID : ID . ID ); }); ID (); }"}
{"chunk_id":"a830e630491e00674958ab0d1c061156","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"065a96be3c29f3c7e1192ff714031563","depth":7,"start_line":485,"end_line":497,"start_byte":15271,"end_byte":15760,"token_estimate":104,"fingerprint":"1270ad4528eef014554ede95a37c8bd3","raw_text":"{\n    m.updateOBB(showOBB);\n    const bodyColor =\n      selectedObject && selectedObject.type === 'body' && selectedObject.motor === m\n        ? COLORS.BODY_SELECTED\n        : COLORS.BODY_DEFAULT;\n    m.bodyGeo?.children.forEach(c => {\n      if (c.userData.type === 'body' && c.material && c.material.color && !c.userData.accent) {\n        c.material.color.setHex(bodyColor);\n      }\n    });\n    m.anchors?.forEach(a => updateAnchorVisuals(a.userData, selectedObject, COLORS, camera));\n  }","normalized_text":"{ ID . ID ( ID ); const ID = ID && ID . ID === ID && ID . ID === ID ? ID . ID : ID . ID ; ID . ID ?. ID . ID ( ID => { if ( ID . ID . ID === ID && ID . ID && ID . ID . ID && ! ID . ID . ID ) { ID . ID . ID . ID ( ID ); } }); ID . ID ?. ID ( ID => ID ( ID . ID , ID , ID , ID )); }"}
{"chunk_id":"54bc11b3b5c11d31188822edb662513c","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"7174764f95b08f27af0648239f97d3e1","depth":12,"start_line":491,"end_line":495,"start_byte":15505,"end_byte":15660,"token_estimate":41,"fingerprint":"d1acaba70919f75173882a840a2a7597","raw_text":"{\n      if (c.userData.type === 'body' && c.material && c.material.color && !c.userData.accent) {\n        c.material.color.setHex(bodyColor);\n      }\n    }","normalized_text":"{ if ( ID . ID . ID === ID && ID . ID && ID . ID . ID && ! ID . ID . ID ) { ID . ID . ID . ID ( ID ); } }"}
{"chunk_id":"9930b9250b233a5c13190f3b0b33582a","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"d68846de9295d2b3171665e1ab064014","depth":13,"start_line":492,"end_line":494,"start_byte":15513,"end_byte":15654,"token_estimate":39,"fingerprint":"fe8733ce44ccf0b205e0f9b1909689e4","raw_text":"if (c.userData.type === 'body' && c.material && c.material.color && !c.userData.accent) {\n        c.material.color.setHex(bodyColor);\n      }","normalized_text":"if ( ID . ID . ID === ID && ID . ID && ID . ID . ID && ! ID . ID . ID ) { ID . ID . ID . ID ( ID ); }"}
{"chunk_id":"8359dd2df9663a93950655bff49ccc48","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"065a96be3c29f3c7e1192ff714031563","depth":7,"start_line":499,"end_line":502,"start_byte":15794,"end_byte":16018,"token_estimate":41,"fingerprint":"499c96a6e50351b5263218901818e056","raw_text":"{\n    const isSelected = selectedObject && selectedObject.type === 'joint_disc' && selectedObject.anchor === mesh.userData.anchor;\n    mesh.material.color.setHex(isSelected ? COLORS.JOINT_SELECTED : COLORS.JOINT_NORMAL);\n  }","normalized_text":"{ const ID = ID && ID . ID === ID && ID . ID === ID . ID . ID ; ID . ID . ID . ID ( ID ? ID . ID : ID . ID ); }"}
{"chunk_id":"923b3d3e0779fcbc7db82de58de57905","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":507,"end_line":511,"start_byte":16040,"end_byte":16177,"token_estimate":29,"fingerprint":"bc55bb45e4c32bfff578f23809b17cd1","raw_text":"function updateAnchorScales() {\n  motors.forEach(m => {\n    m.anchors?.forEach(a => refreshAnchorLabelScale(a.userData, camera));\n  });\n}","normalized_text":"function ID () { ID . ID ( ID => { ID . ID ?. ID ( ID => ID ( ID . ID , ID )); }); }"}
{"chunk_id":"7d90366b4a07224ec4a6e324cc17a7e6","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":513,"end_line":523,"start_byte":16179,"end_byte":16486,"token_estimate":65,"fingerprint":"0b251e7b3444ef1ff8c7c589ec2a6e63","raw_text":"function addMotor(targetAnchor, attachPointId, moduleType = 'servo') {\n  const m = createModuleInstance(moduleType, getNextMotorId());\n  motors.push(m);\n  if (targetAnchor) {\n    m.attachTo(targetAnchor, attachPointId);\n  } else {\n    scene.add(m.root);\n    m.root.position.y = 2.5;\n  }\n  updateVisuals();\n}","normalized_text":"function ID ( ID , ID , ID = ID ) { const ID = ID ( ID , ID ()); ID . ID ( ID ); if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } ID (); }"}
{"chunk_id":"4ff4130657f9e9a637945ca6afed341e","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"8ae983fb9c23c65745e6e24729f4c892","depth":2,"start_line":513,"end_line":523,"start_byte":16248,"end_byte":16486,"token_estimate":54,"fingerprint":"8b45fe09130d2b7570cf8650ac4c9e22","raw_text":"{\n  const m = createModuleInstance(moduleType, getNextMotorId());\n  motors.push(m);\n  if (targetAnchor) {\n    m.attachTo(targetAnchor, attachPointId);\n  } else {\n    scene.add(m.root);\n    m.root.position.y = 2.5;\n  }\n  updateVisuals();\n}","normalized_text":"{ const ID = ID ( ID , ID ()); ID . ID ( ID ); if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; } ID (); }"}
{"chunk_id":"4c4c9c4a6a3432eb73baa1fbd260422a","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"5e3a55edd42a6a7ea0ae1504f8203e42","depth":3,"start_line":516,"end_line":521,"start_byte":16334,"end_byte":16465,"token_estimate":35,"fingerprint":"6ea470e22c7669b609cb05efab4dcaeb","raw_text":"if (targetAnchor) {\n    m.attachTo(targetAnchor, attachPointId);\n  } else {\n    scene.add(m.root);\n    m.root.position.y = 2.5;\n  }","normalized_text":"if ( ID ) { ID . ID ( ID , ID ); } else { ID . ID ( ID . ID ); ID . ID . ID . ID = ID ; }"}
{"chunk_id":"c7dacd8ee1835780cbd4b10345bdbeaf","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":525,"end_line":570,"start_byte":16488,"end_byte":18179,"token_estimate":309,"fingerprint":"16c21fdadfcd4764d724ae84f706cde4","raw_text":"function updateGUI() {\n  groupRot.classList.remove('visible');\n  groupAdd.classList.remove('visible');\n  groupDel.classList.remove('visible');\n  groupJointCopy.classList.remove('visible');\n  btnInsert.style.display = 'none';\n\n  if (!selectedObject) {\n    uiInfoName.innerText = 'Ничего';\n    uiInfoType.innerText = '-';\n    uiInfoVal.innerText = '-';\n    return;\n  }\n\n  if (selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    uiInfoName.innerText = `ID: ${m.id}`;\n    uiInfoType.innerText = m.moduleType === 'box' ? 'Бокс-модуль' : 'Сервопривод';\n    uiInfoVal.innerText = `${m.angle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = m.angle;\n    groupDel.classList.add('visible');\n  } else if (selectedObject.type === 'anchor') {\n    const a = selectedObject;\n    uiInfoName.innerText = `Точка ${a.id}`;\n    groupAdd.classList.add('visible');\n    btnInsert.style.display = 'block';\n    if (a.isOccupied) {\n      uiInfoType.innerText = 'Занята';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Сменить на точку:';\n    } else {\n      uiInfoType.innerText = 'Свободна';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Добавить модуль:';\n    }\n  } else if (selectedObject.type === 'joint_disc') {\n    const a = selectedObject.anchor;\n    uiInfoName.innerText = `Стык (Точка ${a.id})`;\n    uiInfoType.innerText = 'Поворотный узел';\n    uiInfoVal.innerText = `${a.jointAngle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = a.jointAngle;\n    if (a.connectedChild) groupJointCopy.classList.add('visible');\n  }\n}","normalized_text":"function ID () { ID . ID . ID ( ID ); ID . ID . ID ( ID ); ID . ID . ID ( ID ); ID . ID . ID ( ID ); ID . ID . ID = ID ; if (! ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; return; } if ( ID . ID === ID ) { const ID = ID . ID ; ID . ID = ` ID : ${ ID . ID }`; ID . ID = ID . ID === ID ? ID : ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; ID . ID . ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID ; ID . ID = `Точка ${ ID . ID }`; ID . ID . ID ( ID ); ID . ID . ID = ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } else { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } } else if ( ID . ID === ID ) { const ID = ID . ID ; ID . ID = `Стык (Точка ${ ID . ID })`; ID . ID = ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; if ( ID . ID ) ID . ID . ID ( ID ); } }"}
{"chunk_id":"cc9019a897f7a06fde01cbfff4336ac3","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"8d4a1103edfe2d3916303d9b617fddfa","depth":2,"start_line":525,"end_line":570,"start_byte":16509,"end_byte":18179,"token_estimate":306,"fingerprint":"faf6308b7d5851ede9759b6a978c2078","raw_text":"{\n  groupRot.classList.remove('visible');\n  groupAdd.classList.remove('visible');\n  groupDel.classList.remove('visible');\n  groupJointCopy.classList.remove('visible');\n  btnInsert.style.display = 'none';\n\n  if (!selectedObject) {\n    uiInfoName.innerText = 'Ничего';\n    uiInfoType.innerText = '-';\n    uiInfoVal.innerText = '-';\n    return;\n  }\n\n  if (selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    uiInfoName.innerText = `ID: ${m.id}`;\n    uiInfoType.innerText = m.moduleType === 'box' ? 'Бокс-модуль' : 'Сервопривод';\n    uiInfoVal.innerText = `${m.angle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = m.angle;\n    groupDel.classList.add('visible');\n  } else if (selectedObject.type === 'anchor') {\n    const a = selectedObject;\n    uiInfoName.innerText = `Точка ${a.id}`;\n    groupAdd.classList.add('visible');\n    btnInsert.style.display = 'block';\n    if (a.isOccupied) {\n      uiInfoType.innerText = 'Занята';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Сменить на точку:';\n    } else {\n      uiInfoType.innerText = 'Свободна';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Добавить модуль:';\n    }\n  } else if (selectedObject.type === 'joint_disc') {\n    const a = selectedObject.anchor;\n    uiInfoName.innerText = `Стык (Точка ${a.id})`;\n    uiInfoType.innerText = 'Поворотный узел';\n    uiInfoVal.innerText = `${a.jointAngle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = a.jointAngle;\n    if (a.connectedChild) groupJointCopy.classList.add('visible');\n  }\n}","normalized_text":"{ ID . ID . ID ( ID ); ID . ID . ID ( ID ); ID . ID . ID ( ID ); ID . ID . ID ( ID ); ID . ID . ID = ID ; if (! ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; return; } if ( ID . ID === ID ) { const ID = ID . ID ; ID . ID = ` ID : ${ ID . ID }`; ID . ID = ID . ID === ID ? ID : ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; ID . ID . ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID ; ID . ID = `Точка ${ ID . ID }`; ID . ID . ID ( ID ); ID . ID . ID = ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } else { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } } else if ( ID . ID === ID ) { const ID = ID . ID ; ID . ID = `Стык (Точка ${ ID . ID })`; ID . ID = ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; if ( ID . ID ) ID . ID . ID ( ID ); } }"}
{"chunk_id":"18ce03e218734dcb2259c0d03fb455af","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"d3385f7b079138ec974538f54dccda18","depth":3,"start_line":532,"end_line":537,"start_byte":16716,"end_byte":16860,"token_estimate":25,"fingerprint":"03e0aa4ee850e3b9f7fc58cbb2d7924f","raw_text":"if (!selectedObject) {\n    uiInfoName.innerText = 'Ничего';\n    uiInfoType.innerText = '-';\n    uiInfoVal.innerText = '-';\n    return;\n  }","normalized_text":"if (! ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; return; }"}
{"chunk_id":"0563ea2a5a7c297cc923d4626ab6ae7f","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"d3385f7b079138ec974538f54dccda18","depth":3,"start_line":539,"end_line":569,"start_byte":16864,"end_byte":18177,"token_estimate":239,"fingerprint":"a187ad8b47720fadaba7da72dc7d3a40","raw_text":"if (selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    uiInfoName.innerText = `ID: ${m.id}`;\n    uiInfoType.innerText = m.moduleType === 'box' ? 'Бокс-модуль' : 'Сервопривод';\n    uiInfoVal.innerText = `${m.angle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = m.angle;\n    groupDel.classList.add('visible');\n  } else if (selectedObject.type === 'anchor') {\n    const a = selectedObject;\n    uiInfoName.innerText = `Точка ${a.id}`;\n    groupAdd.classList.add('visible');\n    btnInsert.style.display = 'block';\n    if (a.isOccupied) {\n      uiInfoType.innerText = 'Занята';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Сменить на точку:';\n    } else {\n      uiInfoType.innerText = 'Свободна';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Добавить модуль:';\n    }\n  } else if (selectedObject.type === 'joint_disc') {\n    const a = selectedObject.anchor;\n    uiInfoName.innerText = `Стык (Точка ${a.id})`;\n    uiInfoType.innerText = 'Поворотный узел';\n    uiInfoVal.innerText = `${a.jointAngle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = a.jointAngle;\n    if (a.connectedChild) groupJointCopy.classList.add('visible');\n  }","normalized_text":"if ( ID . ID === ID ) { const ID = ID . ID ; ID . ID = ` ID : ${ ID . ID }`; ID . ID = ID . ID === ID ? ID : ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; ID . ID . ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID ; ID . ID = `Точка ${ ID . ID }`; ID . ID . ID ( ID ); ID . ID . ID = ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } else { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } } else if ( ID . ID === ID ) { const ID = ID . ID ; ID . ID = `Стык (Точка ${ ID . ID })`; ID . ID = ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; if ( ID . ID ) ID . ID . ID ( ID ); }"}
{"chunk_id":"1caeee09ed23b0565584e12f0cc0b5b6","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"5f5dbcc966903ce1238b4d3b8feca8c8","depth":4,"start_line":539,"end_line":547,"start_byte":16900,"end_byte":17238,"token_estimate":68,"fingerprint":"b8ee2d76808aa3ceeef0ec4384dd13ab","raw_text":"{\n    const m = selectedObject.motor;\n    uiInfoName.innerText = `ID: ${m.id}`;\n    uiInfoType.innerText = m.moduleType === 'box' ? 'Бокс-модуль' : 'Сервопривод';\n    uiInfoVal.innerText = `${m.angle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = m.angle;\n    groupDel.classList.add('visible');\n  }","normalized_text":"{ const ID = ID . ID ; ID . ID = ` ID : ${ ID . ID }`; ID . ID = ID . ID === ID ? ID : ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; ID . ID . ID ( ID ); }"}
{"chunk_id":"af0d2fe78fb52084ef6ed6021de728f5","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"5f5dbcc966903ce1238b4d3b8feca8c8","depth":5,"start_line":547,"end_line":569,"start_byte":17244,"end_byte":18177,"token_estimate":162,"fingerprint":"9029e96ffe0969ac198297f514ab690c","raw_text":"if (selectedObject.type === 'anchor') {\n    const a = selectedObject;\n    uiInfoName.innerText = `Точка ${a.id}`;\n    groupAdd.classList.add('visible');\n    btnInsert.style.display = 'block';\n    if (a.isOccupied) {\n      uiInfoType.innerText = 'Занята';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Сменить на точку:';\n    } else {\n      uiInfoType.innerText = 'Свободна';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Добавить модуль:';\n    }\n  } else if (selectedObject.type === 'joint_disc') {\n    const a = selectedObject.anchor;\n    uiInfoName.innerText = `Стык (Точка ${a.id})`;\n    uiInfoType.innerText = 'Поворотный узел';\n    uiInfoVal.innerText = `${a.jointAngle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = a.jointAngle;\n    if (a.connectedChild) groupJointCopy.classList.add('visible');\n  }","normalized_text":"if ( ID . ID === ID ) { const ID = ID ; ID . ID = `Точка ${ ID . ID }`; ID . ID . ID ( ID ); ID . ID . ID = ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } else { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } } else if ( ID . ID === ID ) { const ID = ID . ID ; ID . ID = `Стык (Точка ${ ID . ID })`; ID . ID = ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; if ( ID . ID ) ID . ID . ID ( ID ); }"}
{"chunk_id":"f4fbdbd197d0beeec5004b6cbe02649e","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"dbecdb3e0b248eacece7a116cf5c748d","depth":6,"start_line":547,"end_line":561,"start_byte":17282,"end_byte":17778,"token_estimate":80,"fingerprint":"1c0807745e2cafad23d5395148aed133","raw_text":"{\n    const a = selectedObject;\n    uiInfoName.innerText = `Точка ${a.id}`;\n    groupAdd.classList.add('visible');\n    btnInsert.style.display = 'block';\n    if (a.isOccupied) {\n      uiInfoType.innerText = 'Занята';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Сменить на точку:';\n    } else {\n      uiInfoType.innerText = 'Свободна';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Добавить модуль:';\n    }\n  }","normalized_text":"{ const ID = ID ; ID . ID = `Точка ${ ID . ID }`; ID . ID . ID ( ID ); ID . ID . ID = ID ; if ( ID . ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } else { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } }"}
{"chunk_id":"ee77845e428bc0df5be98e03845462ee","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"a20b2785cfffcabd25a87417e2b3cec5","depth":7,"start_line":552,"end_line":560,"start_byte":17445,"end_byte":17774,"token_estimate":47,"fingerprint":"1c81471ccf3cb3c94311af69d7085656","raw_text":"if (a.isOccupied) {\n      uiInfoType.innerText = 'Занята';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Сменить на точку:';\n    } else {\n      uiInfoType.innerText = 'Свободна';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Добавить модуль:';\n    }","normalized_text":"if ( ID . ID ) { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; } else { ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; }"}
{"chunk_id":"233406b556b2dad20378656d6992811a","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"507e31247b587c87ebc2c77473d72965","depth":8,"start_line":552,"end_line":556,"start_byte":17463,"end_byte":17614,"token_estimate":20,"fingerprint":"b18dfc7104f23d8100e32e896d9c3ee3","raw_text":"{\n      uiInfoType.innerText = 'Занята';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Сменить на точку:';\n    }","normalized_text":"{ ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; }"}
{"chunk_id":"0e97c5ef90150e75e5a92fc0a77cd182","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"507e31247b587c87ebc2c77473d72965","depth":9,"start_line":556,"end_line":560,"start_byte":17620,"end_byte":17774,"token_estimate":20,"fingerprint":"b18dfc7104f23d8100e32e896d9c3ee3","raw_text":"{\n      uiInfoType.innerText = 'Свободна';\n      uiInfoVal.innerText = '-';\n      labelActions.innerText = 'Добавить модуль:';\n    }","normalized_text":"{ ID . ID = ID ; ID . ID = ID ; ID . ID = ID ; }"}
{"chunk_id":"72412623680d17da47d078f35c642fab","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"dbecdb3e0b248eacece7a116cf5c748d","depth":7,"start_line":561,"end_line":569,"start_byte":17784,"end_byte":18177,"token_estimate":73,"fingerprint":"1d3f811fa14fc3c58710cac60bd88a89","raw_text":"if (selectedObject.type === 'joint_disc') {\n    const a = selectedObject.anchor;\n    uiInfoName.innerText = `Стык (Точка ${a.id})`;\n    uiInfoType.innerText = 'Поворотный узел';\n    uiInfoVal.innerText = `${a.jointAngle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = a.jointAngle;\n    if (a.connectedChild) groupJointCopy.classList.add('visible');\n  }","normalized_text":"if ( ID . ID === ID ) { const ID = ID . ID ; ID . ID = `Стык (Точка ${ ID . ID })`; ID . ID = ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; if ( ID . ID ) ID . ID . ID ( ID ); }"}
{"chunk_id":"09c02808dfa3f2c0a1e1816100c6683c","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"2f94f793cd675c7867e549581f5535da","depth":8,"start_line":561,"end_line":569,"start_byte":17826,"end_byte":18177,"token_estimate":65,"fingerprint":"89459a5e28e2074023864d5eab643911","raw_text":"{\n    const a = selectedObject.anchor;\n    uiInfoName.innerText = `Стык (Точка ${a.id})`;\n    uiInfoType.innerText = 'Поворотный узел';\n    uiInfoVal.innerText = `${a.jointAngle}°`;\n    groupRot.classList.add('visible');\n    sliderRot.value = a.jointAngle;\n    if (a.connectedChild) groupJointCopy.classList.add('visible');\n  }","normalized_text":"{ const ID = ID . ID ; ID . ID = `Стык (Точка ${ ID . ID })`; ID . ID = ID ; ID . ID = `${ ID . ID }°`; ID . ID . ID ( ID ); ID . ID = ID . ID ; if ( ID . ID ) ID . ID . ID ( ID ); }"}
{"chunk_id":"1d8c57efc62391be9f1a8ed7653a8a00","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":574,"end_line":604,"start_byte":18250,"end_byte":19158,"token_estimate":42,"fingerprint":"397fbea862109413b6d62893f2683412","raw_text":"{\n  if (e.target.closest('#gui-container') || e.target.closest('#modal-import')) return;\n\n  mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\n  mouse.y = -(e.clientY / window.innerHeight) * 2 + 1;\n  raycaster.setFromCamera(mouse, camera);\n\n  const list = [];\n  motors.forEach(m => {\n    m.bodyGeo?.children.forEach(c => {\n      if (c.userData.type) list.push(c);\n    });\n    m.anchors?.forEach(g => list.push(g.children[0]));\n  });\n  list.push(...jointMeshes);\n\n  const hits = raycaster.intersectObjects(list);\n  if (hits.length > 0) {\n    const obj = hits[0].object;\n    if (obj.parent && obj.parent.userData.type === 'anchor') {\n      selectedObject = obj.parent.userData;\n    } else if (obj.userData.type === 'body' || obj.userData.type === 'joint_disc') {\n      selectedObject = obj.userData;\n    } else {\n      selectedObject = null;\n    }\n  } else {\n    selectedObject = null;\n  }\n  updateVisuals();\n}","normalized_text":"{ if ( ID . ID . ID ( ID ID ID ID ID ID ') { ID = ID . ID ; } else { ID = ID ; } } else { ID = ID ; } ID (); }"}
{"chunk_id":"687efa6a37892f81fe05fbc1a69e8f52","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"cacf244ad566e2e0a038315676d665a5","depth":10,"start_line":582,"end_line":587,"start_byte":18532,"end_byte":18680,"token_estimate":46,"fingerprint":"fdde58a025e3f4ab63ffe5be613fa595","raw_text":"{\n    m.bodyGeo?.children.forEach(c => {\n      if (c.userData.type) list.push(c);\n    });\n    m.anchors?.forEach(g => list.push(g.children[0]));\n  }","normalized_text":"{ ID . ID ?. ID . ID ( ID => { if ( ID . ID . ID ) ID . ID ( ID ); }); ID . ID ?. ID ( ID => ID . ID ( ID . ID [ ID ])); }"}
{"chunk_id":"67710d844c0ec102e137ea5408e10292","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"cacf244ad566e2e0a038315676d665a5","depth":6,"start_line":591,"end_line":602,"start_byte":18764,"end_byte":19137,"token_estimate":86,"fingerprint":"7bac0e770a634516a3471efba33d145c","raw_text":"if (hits.length > 0) {\n    const obj = hits[0].object;\n    if (obj.parent && obj.parent.userData.type === 'anchor') {\n      selectedObject = obj.parent.userData;\n    } else if (obj.userData.type === 'body' || obj.userData.type === 'joint_disc') {\n      selectedObject = obj.userData;\n    } else {\n      selectedObject = null;\n    }\n  } else {\n    selectedObject = null;\n  }","normalized_text":"if ( ID . ID > ID ) { const ID = ID [ ID ]. ID ; if ( ID . ID && ID . ID . ID . ID === ID ) { ID = ID . ID . ID ; } else if ( ID . ID . ID === ID || ID . ID . ID === ID ) { ID = ID . ID ; } else { ID = ID ; } } else { ID = ID ; }"}
{"chunk_id":"53bb65f73c6f22253ebb4e512791dcf3","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"cec35530a3e00c3b552eaebf5673484b","depth":7,"start_line":591,"end_line":600,"start_byte":18785,"end_byte":19099,"token_estimate":71,"fingerprint":"799d6526d6c314210b90f031daf13fd1","raw_text":"{\n    const obj = hits[0].object;\n    if (obj.parent && obj.parent.userData.type === 'anchor') {\n      selectedObject = obj.parent.userData;\n    } else if (obj.userData.type === 'body' || obj.userData.type === 'joint_disc') {\n      selectedObject = obj.userData;\n    } else {\n      selectedObject = null;\n    }\n  }","normalized_text":"{ const ID = ID [ ID ]. ID ; if ( ID . ID && ID . ID . ID . ID === ID ) { ID = ID . ID . ID ; } else if ( ID . ID . ID === ID || ID . ID . ID === ID ) { ID = ID . ID ; } else { ID = ID ; } }"}
{"chunk_id":"3c3cd2ca97c3aa840b8bbf0e34c98492","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"628663280bde7f1e2e1ca6e6cc27e6f0","depth":8,"start_line":593,"end_line":599,"start_byte":18823,"end_byte":19095,"token_estimate":60,"fingerprint":"39edfa755e2cf9fd0bf76ac56f5782ab","raw_text":"if (obj.parent && obj.parent.userData.type === 'anchor') {\n      selectedObject = obj.parent.userData;\n    } else if (obj.userData.type === 'body' || obj.userData.type === 'joint_disc') {\n      selectedObject = obj.userData;\n    } else {\n      selectedObject = null;\n    }","normalized_text":"if ( ID . ID && ID . ID . ID . ID === ID ) { ID = ID . ID . ID ; } else if ( ID . ID . ID === ID || ID . ID . ID === ID ) { ID = ID . ID ; } else { ID = ID ; }"}
{"chunk_id":"511c3974b42760bec7f6485b066f5949","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"7872990fec98a0c0b162d9c96be907c3","depth":10,"start_line":595,"end_line":599,"start_byte":18937,"end_byte":19095,"token_estimate":33,"fingerprint":"b3bcca0064cc62ca340264930450a4f6","raw_text":"if (obj.userData.type === 'body' || obj.userData.type === 'joint_disc') {\n      selectedObject = obj.userData;\n    } else {\n      selectedObject = null;\n    }","normalized_text":"if ( ID . ID . ID === ID || ID . ID . ID === ID ) { ID = ID . ID ; } else { ID = ID ; }"}
{"chunk_id":"501ebd8e2ebe0b865163d1b20e9c5228","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":606,"end_line":656,"start_byte":19202,"end_byte":20968,"token_estimate":337,"fingerprint":"9b2e72186d1e3ffea79a9517a929075e","raw_text":"{\n  if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;\n  const key = e.key.toUpperCase();\n  if (!selectedObject) return;\n\n  if (key === 'ARROWLEFT' || key === 'ARROWRIGHT') {\n    const d = key === 'ARROWRIGHT' ? 1 : -1;\n    let success = false;\n\n    if (selectedObject.type === 'body') {\n      const m = selectedObject.motor;\n      let newVal = m.angle + d;\n      newVal = (newVal % 360 + 360) % 360;\n      success = m.setAngle(newVal, isColliding);\n      if (!success) showToast('Коллизия! Вращение заблокировано.');\n    } else if (selectedObject.type === 'joint_disc') {\n      const anchor = selectedObject.anchor;\n      if (anchor.jointRotor) {\n        let currentAngle = anchor.jointAngle;\n        let newVal = currentAngle + d;\n        newVal = (newVal % 360 + 360) % 360;\n        anchor.jointAngle = newVal;\n        anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(newVal);\n        success = true;\n      }\n    }\n    if (success) updateVisuals();\n  }\n\n  const pts = points;\n  if (pts.includes(key) && selectedObject.type === 'anchor') {\n    if (!selectedObject.isOccupied) {\n      const chosenType = moduleTypeSelect.value;\n      const allowedPoints = moduleAnchorPoints[chosenType] || [];\n      if (!allowedPoints.includes(key)) {\n        showToast(`Точка ${key} недоступна для модуля ${chosenType}`);\n        return;\n      }\n      addMotor(selectedObject, key, chosenType);\n    } else {\n      changeConnectionPoint(selectedObject, key);\n    }\n  }\n  if ((key === 'DELETE' || key === 'DEL') && selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    m.dispose();\n    motors.splice(motors.indexOf(m), 1);\n    selectedObject = null;\n    updateVisuals();\n  }\n}","normalized_text":"{ if ( ID . ID . ID === ID || ID . ID . ID === ID ) return; const ID = ID . ID . ID (); if (! ID ) return; if ( ID === ID || ID === ID ) { const ID = ID === ID ? ID : - ID ; let ID = ID ; if ( ID . ID === ID ) { const ID = ID . ID ; let ID = ID . ID + ID ; ID = ( ID % ID + ID ) % ID ; ID = ID . ID ( ID , ID ); if (! ID ) ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID . ID ; if ( ID . ID ) { let ID = ID . ID ; let ID = ID + ID ; ID = ( ID % ID + ID ) % ID ; ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); ID = ID ; } } if ( ID ) ID (); } const ID = ID ; if ( ID . ID ( ID ) && ID . ID === ID ) { if (! ID . ID ) { const ID = ID . ID ; const ID = ID [ ID ] || []; if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; } ID ( ID , ID , ID ); } else { ID ( ID , ID ); } } if (( ID === ID || ID === ID ) && ID . ID === ID ) { const ID = ID . ID ; ID . ID (); ID . ID ( ID . ID ( ID ), ID ); ID = ID ; ID (); } }"}
{"chunk_id":"2d7d118194456affb57881c757227d6b","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"2d8dfecc4394af00eb9680342c66807e","depth":6,"start_line":611,"end_line":633,"start_byte":19352,"end_byte":20219,"token_estimate":169,"fingerprint":"9c0104b75789d78644e440fbc04a337a","raw_text":"if (key === 'ARROWLEFT' || key === 'ARROWRIGHT') {\n    const d = key === 'ARROWRIGHT' ? 1 : -1;\n    let success = false;\n\n    if (selectedObject.type === 'body') {\n      const m = selectedObject.motor;\n      let newVal = m.angle + d;\n      newVal = (newVal % 360 + 360) % 360;\n      success = m.setAngle(newVal, isColliding);\n      if (!success) showToast('Коллизия! Вращение заблокировано.');\n    } else if (selectedObject.type === 'joint_disc') {\n      const anchor = selectedObject.anchor;\n      if (anchor.jointRotor) {\n        let currentAngle = anchor.jointAngle;\n        let newVal = currentAngle + d;\n        newVal = (newVal % 360 + 360) % 360;\n        anchor.jointAngle = newVal;\n        anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(newVal);\n        success = true;\n      }\n    }\n    if (success) updateVisuals();\n  }","normalized_text":"if ( ID === ID || ID === ID ) { const ID = ID === ID ? ID : - ID ; let ID = ID ; if ( ID . ID === ID ) { const ID = ID . ID ; let ID = ID . ID + ID ; ID = ( ID % ID + ID ) % ID ; ID = ID . ID ( ID , ID ); if (! ID ) ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID . ID ; if ( ID . ID ) { let ID = ID . ID ; let ID = ID + ID ; ID = ( ID % ID + ID ) % ID ; ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); ID = ID ; } } if ( ID ) ID (); }"}
{"chunk_id":"9d26c55d2c6d89c0c13e83259116b9a7","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"085fff618842028e0d35a5935cc797af","depth":7,"start_line":611,"end_line":633,"start_byte":19401,"end_byte":20219,"token_estimate":159,"fingerprint":"8aaf6be3ec21630a1138ce808ebdead2","raw_text":"{\n    const d = key === 'ARROWRIGHT' ? 1 : -1;\n    let success = false;\n\n    if (selectedObject.type === 'body') {\n      const m = selectedObject.motor;\n      let newVal = m.angle + d;\n      newVal = (newVal % 360 + 360) % 360;\n      success = m.setAngle(newVal, isColliding);\n      if (!success) showToast('Коллизия! Вращение заблокировано.');\n    } else if (selectedObject.type === 'joint_disc') {\n      const anchor = selectedObject.anchor;\n      if (anchor.jointRotor) {\n        let currentAngle = anchor.jointAngle;\n        let newVal = currentAngle + d;\n        newVal = (newVal % 360 + 360) % 360;\n        anchor.jointAngle = newVal;\n        anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(newVal);\n        success = true;\n      }\n    }\n    if (success) updateVisuals();\n  }","normalized_text":"{ const ID = ID === ID ? ID : - ID ; let ID = ID ; if ( ID . ID === ID ) { const ID = ID . ID ; let ID = ID . ID + ID ; ID = ( ID % ID + ID ) % ID ; ID = ID . ID ( ID , ID ); if (! ID ) ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID . ID ; if ( ID . ID ) { let ID = ID . ID ; let ID = ID + ID ; ID = ( ID % ID + ID ) % ID ; ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); ID = ID ; } } if ( ID ) ID (); }"}
{"chunk_id":"94eed825a611d755833ea604d8dfb692","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"12017974985edebc8c6276fcf9262b04","depth":8,"start_line":615,"end_line":631,"start_byte":19478,"end_byte":20181,"token_estimate":134,"fingerprint":"4ca57c2f7813d56e2e1fcbc1930b5be1","raw_text":"if (selectedObject.type === 'body') {\n      const m = selectedObject.motor;\n      let newVal = m.angle + d;\n      newVal = (newVal % 360 + 360) % 360;\n      success = m.setAngle(newVal, isColliding);\n      if (!success) showToast('Коллизия! Вращение заблокировано.');\n    } else if (selectedObject.type === 'joint_disc') {\n      const anchor = selectedObject.anchor;\n      if (anchor.jointRotor) {\n        let currentAngle = anchor.jointAngle;\n        let newVal = currentAngle + d;\n        newVal = (newVal % 360 + 360) % 360;\n        anchor.jointAngle = newVal;\n        anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(newVal);\n        success = true;\n      }\n    }","normalized_text":"if ( ID . ID === ID ) { const ID = ID . ID ; let ID = ID . ID + ID ; ID = ( ID % ID + ID ) % ID ; ID = ID . ID ( ID , ID ); if (! ID ) ID ( ID ); } else if ( ID . ID === ID ) { const ID = ID . ID ; if ( ID . ID ) { let ID = ID . ID ; let ID = ID + ID ; ID = ( ID % ID + ID ) % ID ; ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); ID = ID ; } }"}
{"chunk_id":"6fbc46df99b9a0ff20dcbf385e37f362","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"b859f41dc49fad96aca4f86c452b7bdf","depth":9,"start_line":615,"end_line":621,"start_byte":19514,"end_byte":19780,"token_estimate":48,"fingerprint":"e4c4586659053bd372488c5079d30cc5","raw_text":"{\n      const m = selectedObject.motor;\n      let newVal = m.angle + d;\n      newVal = (newVal % 360 + 360) % 360;\n      success = m.setAngle(newVal, isColliding);\n      if (!success) showToast('Коллизия! Вращение заблокировано.');\n    }","normalized_text":"{ const ID = ID . ID ; let ID = ID . ID + ID ; ID = ( ID % ID + ID ) % ID ; ID = ID . ID ( ID , ID ); if (! ID ) ID ( ID ); }"}
{"chunk_id":"7aac270680c5d7fd1b97064619196565","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"b859f41dc49fad96aca4f86c452b7bdf","depth":10,"start_line":621,"end_line":631,"start_byte":19786,"end_byte":20181,"token_estimate":77,"fingerprint":"eafe56e29160099b8690b491c71c6606","raw_text":"if (selectedObject.type === 'joint_disc') {\n      const anchor = selectedObject.anchor;\n      if (anchor.jointRotor) {\n        let currentAngle = anchor.jointAngle;\n        let newVal = currentAngle + d;\n        newVal = (newVal % 360 + 360) % 360;\n        anchor.jointAngle = newVal;\n        anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(newVal);\n        success = true;\n      }\n    }","normalized_text":"if ( ID . ID === ID ) { const ID = ID . ID ; if ( ID . ID ) { let ID = ID . ID ; let ID = ID + ID ; ID = ( ID % ID + ID ) % ID ; ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); ID = ID ; } }"}
{"chunk_id":"eba48f7badc12403ee6ddd4988733e2a","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"92aa8c3c3501446db3c9565cbcb7c9a1","depth":11,"start_line":621,"end_line":631,"start_byte":19828,"end_byte":20181,"token_estimate":69,"fingerprint":"0de8c89e3722b9ddbd47a936f87c6082","raw_text":"{\n      const anchor = selectedObject.anchor;\n      if (anchor.jointRotor) {\n        let currentAngle = anchor.jointAngle;\n        let newVal = currentAngle + d;\n        newVal = (newVal % 360 + 360) % 360;\n        anchor.jointAngle = newVal;\n        anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(newVal);\n        success = true;\n      }\n    }","normalized_text":"{ const ID = ID . ID ; if ( ID . ID ) { let ID = ID . ID ; let ID = ID + ID ; ID = ( ID % ID + ID ) % ID ; ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); ID = ID ; } }"}
{"chunk_id":"c08a7d086c41f394b1feeeb2214f7228","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"8f961698d3273f67c2c78475783bf2ca","depth":12,"start_line":623,"end_line":630,"start_byte":19880,"end_byte":20175,"token_estimate":60,"fingerprint":"569e65d255d2f1c028d23244b10cf9be","raw_text":"if (anchor.jointRotor) {\n        let currentAngle = anchor.jointAngle;\n        let newVal = currentAngle + d;\n        newVal = (newVal % 360 + 360) % 360;\n        anchor.jointAngle = newVal;\n        anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(newVal);\n        success = true;\n      }","normalized_text":"if ( ID . ID ) { let ID = ID . ID ; let ID = ID + ID ; ID = ( ID % ID + ID ) % ID ; ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); ID = ID ; }"}
{"chunk_id":"a1f3563b1e0c9427340c9ee0f2155fb9","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"c9729df14c66451f7dedc798fb9234a4","depth":13,"start_line":623,"end_line":630,"start_byte":19903,"end_byte":20175,"token_estimate":54,"fingerprint":"b68d12ba5e625b34f6ca5d08b3186d58","raw_text":"{\n        let currentAngle = anchor.jointAngle;\n        let newVal = currentAngle + d;\n        newVal = (newVal % 360 + 360) % 360;\n        anchor.jointAngle = newVal;\n        anchor.jointRotor.rotation.y = THREE.MathUtils.degToRad(newVal);\n        success = true;\n      }","normalized_text":"{ let ID = ID . ID ; let ID = ID + ID ; ID = ( ID % ID + ID ) % ID ; ID . ID = ID ; ID . ID . ID . ID = ID . ID . ID ( ID ); ID = ID ; }"}
{"chunk_id":"dc7f5ad1177b88e63b70502e9552f1c8","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"2d8dfecc4394af00eb9680342c66807e","depth":6,"start_line":636,"end_line":648,"start_byte":20245,"end_byte":20741,"token_estimate":80,"fingerprint":"4a14bd40d1b3c3618cb334c6de14892e","raw_text":"if (pts.includes(key) && selectedObject.type === 'anchor') {\n    if (!selectedObject.isOccupied) {\n      const chosenType = moduleTypeSelect.value;\n      const allowedPoints = moduleAnchorPoints[chosenType] || [];\n      if (!allowedPoints.includes(key)) {\n        showToast(`Точка ${key} недоступна для модуля ${chosenType}`);\n        return;\n      }\n      addMotor(selectedObject, key, chosenType);\n    } else {\n      changeConnectionPoint(selectedObject, key);\n    }\n  }","normalized_text":"if ( ID . ID ( ID ) && ID . ID === ID ) { if (! ID . ID ) { const ID = ID . ID ; const ID = ID [ ID ] || []; if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; } ID ( ID , ID , ID ); } else { ID ( ID , ID ); } }"}
{"chunk_id":"589b9fe03900ddf7fb59ce8ef1c3c1df","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"bb502bc7f55f597f9d8dd9413ffb9d6c","depth":7,"start_line":636,"end_line":648,"start_byte":20304,"end_byte":20741,"token_estimate":65,"fingerprint":"5610cf89cdde245abb44ed030cc2ad1b","raw_text":"{\n    if (!selectedObject.isOccupied) {\n      const chosenType = moduleTypeSelect.value;\n      const allowedPoints = moduleAnchorPoints[chosenType] || [];\n      if (!allowedPoints.includes(key)) {\n        showToast(`Точка ${key} недоступна для модуля ${chosenType}`);\n        return;\n      }\n      addMotor(selectedObject, key, chosenType);\n    } else {\n      changeConnectionPoint(selectedObject, key);\n    }\n  }","normalized_text":"{ if (! ID . ID ) { const ID = ID . ID ; const ID = ID [ ID ] || []; if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; } ID ( ID , ID , ID ); } else { ID ( ID , ID ); } }"}
{"chunk_id":"126ab5e545219cd4d20f8f469fd634bd","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"25f0206abac39be5ccec271c0976e249","depth":8,"start_line":637,"end_line":647,"start_byte":20310,"end_byte":20737,"token_estimate":63,"fingerprint":"c057eeb16e04915f8b461f2b2a17f031","raw_text":"if (!selectedObject.isOccupied) {\n      const chosenType = moduleTypeSelect.value;\n      const allowedPoints = moduleAnchorPoints[chosenType] || [];\n      if (!allowedPoints.includes(key)) {\n        showToast(`Точка ${key} недоступна для модуля ${chosenType}`);\n        return;\n      }\n      addMotor(selectedObject, key, chosenType);\n    } else {\n      changeConnectionPoint(selectedObject, key);\n    }","normalized_text":"if (! ID . ID ) { const ID = ID . ID ; const ID = ID [ ID ] || []; if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; } ID ( ID , ID , ID ); } else { ID ( ID , ID ); }"}
{"chunk_id":"953750c61058ca61b037c33044736102","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"f64238eb0a8deba1e9b8a7fd987a4598","depth":9,"start_line":637,"end_line":645,"start_byte":20342,"end_byte":20674,"token_estimate":48,"fingerprint":"4692d0c335bcc9661478baed2e0873de","raw_text":"{\n      const chosenType = moduleTypeSelect.value;\n      const allowedPoints = moduleAnchorPoints[chosenType] || [];\n      if (!allowedPoints.includes(key)) {\n        showToast(`Точка ${key} недоступна для модуля ${chosenType}`);\n        return;\n      }\n      addMotor(selectedObject, key, chosenType);\n    }","normalized_text":"{ const ID = ID . ID ; const ID = ID [ ID ] || []; if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; } ID ( ID , ID , ID ); }"}
{"chunk_id":"73b3bb37ace44d1d4aa92cee2ec63171","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"df97f5daafde709f3947084bc685afcc","depth":10,"start_line":640,"end_line":643,"start_byte":20465,"end_byte":20619,"token_estimate":22,"fingerprint":"18d4039e21a2c8e8489b5a65a7772e99","raw_text":"if (!allowedPoints.includes(key)) {\n        showToast(`Точка ${key} недоступна для модуля ${chosenType}`);\n        return;\n      }","normalized_text":"if (! ID . ID ( ID )) { ID (`Точка ${ ID } недоступна для модуля ${ ID }`); return; }"}
{"chunk_id":"d8fdc6823caad6482acb18b531e72e81","repo":"input","path":"main.js","language":"javascript","node_type":"if_statement","parent_id":"2d8dfecc4394af00eb9680342c66807e","depth":6,"start_line":649,"end_line":655,"start_byte":20744,"end_byte":20966,"token_estimate":48,"fingerprint":"67314fe909be59f85585fa00a9e63f9b","raw_text":"if ((key === 'DELETE' || key === 'DEL') && selectedObject.type === 'body') {\n    const m = selectedObject.motor;\n    m.dispose();\n    motors.splice(motors.indexOf(m), 1);\n    selectedObject = null;\n    updateVisuals();\n  }","normalized_text":"if (( ID === ID || ID === ID ) && ID . ID === ID ) { const ID = ID . ID ; ID . ID (); ID . ID ( ID . ID ( ID ), ID ); ID = ID ; ID (); }"}
{"chunk_id":"d2156dbdfac24d5d60d5e7fc55569bef","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":"f19ca7fc5e407f41105ec81eaf3eb7a9","depth":7,"start_line":649,"end_line":655,"start_byte":20819,"end_byte":20966,"token_estimate":31,"fingerprint":"9a629cd8789e9322bac7aeb38119c0a0","raw_text":"{\n    const m = selectedObject.motor;\n    m.dispose();\n    motors.splice(motors.indexOf(m), 1);\n    selectedObject = null;\n    updateVisuals();\n  }","normalized_text":"{ const ID = ID . ID ; ID . ID (); ID . ID ( ID . ID ( ID ), ID ); ID = ID ; ID (); }"}
{"chunk_id":"76a9e5c44af31cfab375a05e72d15c97","repo":"input","path":"main.js","language":"javascript","node_type":"function_declaration","parent_id":null,"depth":1,"start_line":658,"end_line":663,"start_byte":20972,"end_byte":21107,"token_estimate":23,"fingerprint":"5de2d81caff3155717ab96236ac9f5c9","raw_text":"function animate() {\n  requestAnimationFrame(animate);\n  updateAnchorScales();\n  controls.update();\n  renderer.render(scene, camera);\n}","normalized_text":"function ID () { ID ( ID ); ID (); ID . ID (); ID . ID ( ID , ID ); }"}
{"chunk_id":"cb5710614053a8314cd99d785a1c26e4","repo":"input","path":"main.js","language":"javascript","node_type":"statement_block","parent_id":null,"depth":5,"start_line":666,"end_line":670,"start_byte":21160,"end_byte":21315,"token_estimate":30,"fingerprint":"51d0ac3109fd295d363831bfeebabd19","raw_text":"{\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n}","normalized_text":"{ ID . ID = ID . ID / ID . ID ; ID . ID (); ID . ID ( ID . ID , ID . ID ); }"}
